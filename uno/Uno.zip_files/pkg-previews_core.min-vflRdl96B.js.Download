define("file-viewer/assets-metaserver",["require","exports","modules/clean/static_urls"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assets={"2NQat":r.static_url("/static/js/file-viewer/img/error/unavailable_1x-vflG2AHMd.png"),"1M0Da":r.static_url("/static/js/file-viewer/img/error/unavailable_2x-vflGPrE5d.png"),"3_SVR":r.static_url("/static/js/file-viewer/img/error/file_too_large_1x-vflDGNPuo.png"),"1KZOf":r.static_url("/static/js/file-viewer/img/error/file_too_large_2x-vfl-r0UPt.png"),d7hcI:r.static_url("/static/js/file-viewer/img/error/file_uploading_1x-vflRuLSg0.png"),"1WylU":r.static_url("/static/js/file-viewer/img/error/file_uploading_2x-vflKOdrWj.png"),"1j0Ik":r.static_url("/static/js/file-viewer/img/error/filetype_not_supported_1x-vflmIVODZ.png"),"3afH2":r.static_url("/static/js/file-viewer/img/error/filetype_not_supported_2x-vflE8HW8X.png"),"32YjM":r.static_url("/static/js/file-viewer/img/error/password_protected_1x-vflnFAKjt.png"),"29R06":r.static_url("/static/js/file-viewer/img/error/password_protected_2x-vflnBXZ1k.png")}}),define("file-viewer/core/bootstrap",["require","exports","tslib","redux","file-viewer/core/data/reducer","file-viewer/core/data/actions","file-viewer/core/urls","file-viewer/core/uuid","modules/clean/api_v2/redux/previews","file-viewer/core/middlewares/riviera_data","file-viewer/core/utils","file-viewer/core/config","file-viewer/core/middlewares/analytics","file-viewer/core/middlewares/ui_action_redispatcher","file-viewer/core/middlewares/local_cache_data","modules/clean/api_v2/redux/users","file-viewer/core/middlewares/navigation","file-viewer/core/invariant","file-viewer/core/middlewares/native_apps","file-viewer/core/errors"],function(e,t,r,i,a,n,o,s,l,c,u,d,p,f,v,_,m,g,w,h){"use strict";function b(e){var t=e.id||s.v4(),i=e.store,a=e.intl,c=e.config,u=e.resolveAsset,d=e.deviceType,p=void 0===d?"desktop":d;return i.dispatch(n.initializeFileViewer({fileViewerId:t,deviceType:p})),i.dispatch(_.getCurrentAccountAction({arg:void 0})),{id:t,getPlatformProps:function(){return{intl:a,store:i,config:c,resolveAsset:u,accountId:e.accountId,deviceType:e.deviceType||"desktop"}},setCurrentFileInfo:function(e){i.dispatch(n.setCurrentFilePreview({fileViewerId:t,fileInfo:e}))},resolveFilePreview:function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(r){switch(r.label){case 0:return g.invariant(!(!e.url&&!e.file_id),h.FVErrorCode.InvalidFileInfo,"You have to either provide a file ID or shared link url to fetch the preview data"),e.url?[4,i.dispatch(l.getPreviewDataBatchAction({arg:{files:[{sj_id:0,ns_id:0,url:e.url}]},params:{}},{fileViewerId:t}))]:[3,2];case 1:return r.sent(),[3,4];case 2:return e.file_id?[4,i.dispatch(l.getPreviewDataByFileIdsBatchAction({arg:{file_ids:[e.file_id]},params:{}},{fileViewerId:t}))]:[3,4];case 3:r.sent(),r.label=4;case 4:return[2]}})})},loadPreviewMetadata:function(){return r.__awaiter(this,void 0,void 0,function(){var e,a,s,l,c,u,d;return r.__generator(this,function(r){switch(r.label){case 0:if(e=i.getState().currentFileInfo[t],a=e.file_id,i.dispatch(n.fetchNativeApps({fileId:a})),s=i.getState().previewData[a],!s||!s.content)throw new h.FVError(h.FVErrorCode.MalformedPreviewsDataApiResponse,"Missing `content` from preview data api payload");switch(l=[],s.content[".tag"]){case"ssr_doc":c=s.content,u=c.text_url_tmpl,d=c.image_url_tmpl,l.push(i.dispatch(n.fetchDocMetadataAction(a,u))),i.dispatch(n.fetchDataForPageAction(a,u,0,50)),i.dispatch(n.prewarmUnifiedPreviewAsset(o.imageUrl(d,{page:0,scale_percent:0})))}return[4,Promise.all(l)];case 1:return r.sent(),[2]}})})}}}function y(e){var t=e.middlewares,n=void 0===t?[]:t,o=e.initialState,s=e.additionalReducers,l=void 0===s?{}:s,c="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?i.compose(i.applyMiddleware.apply(void 0,n),window.__REDUX_DEVTOOLS_EXTENSION__()):i.applyMiddleware.apply(void 0,n),u=r.__assign({},a.reducers,l);return i.createStore(i.combineReducers(u),o,c)}function F(e){var t=e.additionalMiddlewares,i=void 0===t?[]:t,a=e.initialState,n=e.additionalReducers,o=void 0===n?{}:n,s=e.assets,g=e.intl,h=e.logger,F=(e.nativeAppsIOClient?[w.middleware(e.nativeAppsIOClient)]:[]).concat(e.localCacheClient?[v.localCacheMiddleware(e.localCacheClient)]:[],e.navigationClient?[m.middleware(e.navigationClient)]:[],[c.rivieraDataMiddleware(e.rivieraIOClient),l.middleware(e.apiv2ClientBase.ns("previews")),_.middleware(e.apiv2ClientBase.ns("users")),f.uiActionRedispatcher],i,h?[p.analyticsMiddleware(h)]:[]),A=y({middlewares:F,initialState:a,additionalReducers:o}),S=d.DEFAULT_CONFIG;return e.config&&(S=r.__assign({},S,e.config)),{createFileViewer:function(t){return b({id:t,intl:g,store:A,config:S,resolveAsset:u.resolveAsset.bind(null,s),accountId:e.accountId,deviceType:e.deviceType})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createSDKStore=y,t.createFileViewerSDK=F}),define("file-viewer/core/config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG={pdf_size_limit:524288e3,ppt_size_limit:301989888,word_doc_size_limit:167772160,archive_size_limit:1073741824,text_size_limit:8388608,linkfile_size_limit:10240,annotations:!1,load_image_only:!1,file_flipping:!1}}),define("file-viewer/core/constants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_IMG_SCALE_FACTOR=16,t.MIN_IMG_SCALE_FACTOR=.01,t.IMG_ZOOM_MULTIPLIER=1.25,t.MAX_DOC_SCALE_FACTOR=10,t.MIN_DOC_SCALE_FACTOR=.1,t.DOC_ZOOM_MULTIPLIER=1.1,t.ZOOM_PERCENT_DELTA=.05}),define("file-viewer/core/data/actions",["require","exports"],function(e,t){"use strict";function r(e,t,r,i){return{payload:{fileIdOrRevisionId:e,textUrlTmpl:t,pageLowerBound:r,pageUpperBound:i},type:"@@previews/fetchDataForPage"}}function i(e,t,r){return{payload:{fileIdOrRevisionId:e,data:t},type:"@@previews/fetchDataForPageResult",error:r}}function a(e,t){return{payload:{fileIdOrRevisionId:e,textUrlTmpl:t},type:"@@previews/fetchDocMetadata"}}function n(e,t,r){return{type:"@@previews/fetchDocMetadataResult",payload:{fileIdOrRevisionId:e,data:t},error:r}}function o(e){return{payload:e,type:"@@previews/refreshBlob"}}function s(e){return{payload:e,type:"@@previews/refreshBlobSuccess"}}function l(e){return{type:"@@previews/fetchUnifiedPreviewAsset",payload:{assetUrl:e}}}function c(e){return{type:"@@previews/updateDocCurrentPageIndex",payload:e}}function u(e){return{type:"@@previews/zoomIn",payload:e}}function d(e){return{type:"@@previews/zoomOut",payload:e}}function p(e){return{type:"@@previews/updateFitScaleFactor",payload:e}}function f(e){return{type:"@@previews/zoomOriginalOrFit",payload:e}}function v(e){return{type:"@@previews/initializeFilePreview",payload:e}}function _(e){return{type:"@@previews/initializeFilePreviewSession",payload:e}}function m(e){return{type:"@@previews/fileViewerUi/openDocSidebar",payload:e}}function g(e){return{type:"@@previews/fileViewerUi/closeDocSidebar",payload:e}}function w(e){return{type:"@@previews/setCurrentFilePreview",payload:e}}function h(e){return{type:"@@previews/updateScaleFactor",payload:e}}function b(e){return{type:"@@previews/pageDown",payload:e}}function y(e){return{type:"@@previews/pageUp",payload:e}}function F(e){return{type:"@@previews/modes/changeMode",payload:e}}function A(e){return{payload:e,type:"@@previews/sidebarControlClick"}}function S(e){return{payload:e,type:"@@previews/setSidebarVisibility"}}function P(e){return{type:"@@previews/share",payload:e}}function x(e){return{type:"@@previews/openWith",payload:e}}function I(e){return{type:"@@previews/fetchNativeApps",payload:e}}function D(e){return{type:"@@previews/fetchNativeAppsResult",payload:e}}function R(e){return{type:"@@previews/initializeFileViewer",payload:e}}function C(e){return{type:"@@previews/pushSidebarPane",payload:e}}function E(e){return{type:"@@previews/popSidebarPane",payload:e}}function M(e){return{type:"@@previews/openWebPreview",payload:e}}function O(){return{type:"@@previews/navigation/flipToNextFile",payload:{}}}function T(){return{type:"@@previews/navigation/flipToPreviousFile",payload:{}}}function k(e){return{type:"@@previews/setFileMetadata",payload:e}}function V(e){return{type:"@@previews/openFullscreenPreview",payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.ChangeMode="@@previews/modes/changeMode",e.CloseDocSidebar="@@previews/fileViewerUi/closeDocSidebar",e.FetchDataForPage="@@previews/fetchDataForPage",e.FetchDataForPageResult="@@previews/fetchDataForPageResult",e.FetchDocMetadata="@@previews/fetchDocMetadata",e.FetchDocMetadataResult="@@previews/fetchDocMetadataResult",e.FetchPhotoMetadataResult="@@previews/fetchPhotoMetadataResult",e.FlipToNextFile="@@previews/navigation/flipToNextFile",e.FlipToPreviousFile="@@previews/navigation/flipToPreviousFile",e.InitializeFilePreview="@@previews/initializeFilePreview",e.OpenDocSidebar="@@previews/fileViewerUi/openDocSidebar",e.PageDown="@@previews/pageDown",e.PageUp="@@previews/pageUp",e.PrewarmUnifiedPreviewAsset="@@previews/fetchUnifiedPreviewAsset",e.RefreshBlob="@@previews/refreshBlob",e.RefreshBlobSuccess="@@previews/refreshBlobSuccess",e.SetCurrentFilePreview="@@previews/setCurrentFilePreview",e.UpdateDocCurrentPageIndex="@@previews/updateDocCurrentPageIndex",e.UpdateFitScaleFactor="@@previews/updateFitScaleFactor",e.UpdateScaleFactor="@@previews/updateScaleFactor",e.ZoomIn="@@previews/zoomIn",e.ZoomOriginalOrFit="@@previews/zoomOriginalOrFit",e.ZoomOut="@@previews/zoomOut",e.SidebarControlClick="@@previews/sidebarControlClick",e.SetSidebarVisibility="@@previews/setSidebarVisibility",e.Share="@@previews/share",e.OpenWith="@@previews/openWith",e.OpenWebPreview="@@previews/openWebPreview",e.FetchNativeApps="@@previews/fetchNativeApps",e.FetchNativeAppsResult="@@previews/fetchNativeAppsResult",e.InitializeFilePreviewSession="@@previews/initializeFilePreviewSession",e.InitializeFileViewer="@@previews/initializeFileViewer",e.PushSidebarPane="@@previews/pushSidebarPane",e.PopSidebarPane="@@previews/popSidebarPane",e.SetFileMetadata="@@previews/setFileMetadata",e.OpenFullscreenPreview="@@previews/openFullscreenPreview"})(t.Action||(t.Action={})),t.fetchDataForPageAction=r,t.fetchDataForPageResultAction=i,t.fetchDocMetadataAction=a,t.fetchDocMetadataResultAction=n,t.refreshBlobAction=o,t.refreshBlobSuccessAction=s,t.prewarmUnifiedPreviewAsset=l,t.updateDocCurrentPageIndex=c,t.zoomIn=u,t.zoomOut=d,t.updateFitScaleFactor=p,t.zoomOriginalOrFit=f,t.initializeFilePreview=v,t.initializeFilePreviewSession=_,t.openDocSidebar=m,t.closeDocSidebar=g,t.setCurrentFilePreview=w,t.updateScaleFactor=h,t.pageDown=b,t.pageUp=y,t.changeMode=F,t.sidebarControlClickAction=A,t.setSidebarVisibilityAction=S,t.shareAction=P,t.openWith=x,t.fetchNativeApps=I,t.fetchNativeAppsResult=D,t.initializeFileViewer=R,t.pushSidebarPane=C,t.popSidebarPane=E,t.openWebPreview=M,t.flipToNextFile=O,t.flipToPreviousFile=T,t.setFileMetadata=k,t.openFullscreenPreview=V}),define("file-viewer/core/data/models",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.Archive="archive",e.Audio="audio",e.CloudDoc="cloud_doc",e.Excel="excel",e.Error="error",e.HTML="html",e.Image="image",e.Linkfile="linkfile",e.Other="other",e.SsrDoc="ssr_doc",e.RawHTML="raw_html",e.Restricted="restricted",e.Video="video",e.Doc="doc",e.Photo="photo",e.Text="text"})(t.PreviewType||(t.PreviewType={}))}),define("file-viewer/core/data/modes/types",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.Closed="closed",e.Open="open"})(t.SidebarVisibility||(t.SidebarVisibility={})),(function(e){e.Documentation="documentation",e.Comments="comments",e.Watermarking="watermarking"})(t.SidebarControlId||(t.SidebarControlId={})),(function(e){e.Documentation="documentation",e.Metadata="metadata",e.Comments="comments",e.Activity="activity",e.Watermarking="watermarking"})(t.SidebarPaneId||(t.SidebarPaneId={})),(function(e){e.Default="default",e.Commenting="commenting",e.Documentation="documentation",e.Watermarking="watermarking"})(t.FileViewerMode||(t.FileViewerMode={}))}),define("file-viewer/core/data/reducer",["require","exports","tslib","file-viewer/core/logging/session","file-viewer/core/data/modes/types","file-viewer/core/extension_constants","file-viewer/core/uuid","file-viewer/core/constants"],function(e,t,r,i,a,n,o,s){"use strict";function l(e,t){if(1===t||!e)return 1;var r=Math.round(e*t/s.ZOOM_PERCENT_DELTA)*s.ZOOM_PERCENT_DELTA;return Math.abs(r-e)<s.ZOOM_PERCENT_DELTA&&(r+=t>1?s.ZOOM_PERCENT_DELTA:-s.ZOOM_PERCENT_DELTA),Math.min(Math.max(r,s.MIN_IMG_SCALE_FACTOR),s.MAX_IMG_SCALE_FACTOR)}function c(e,t){return Math.max(Math.min(e*t,s.MAX_DOC_SCALE_FACTOR),s.MIN_DOC_SCALE_FACTOR)}Object.defineProperty(t,"__esModule",{value:!0});var u;t.DEFAULT_USER={locale:"en",referral_link:"",is_paired:!1,account_type:{".tag":"basic"},uid:0,user_name:"",root_info:{".tag":"user"},is_deferred_password:!1,is_deferred_password_set:!1,is_business_domain:!1,is_paid:!1,has_ever_linked_desktop:!1,has_user_added_files:!1,video_uploads_enabled_default:!1,email_verified:!1,visibility_quota_info:{normal:0,shared:0,quota:0},pending_forced_migration:!1,referral_bonus_info:{bonus_space:0,max_num_bonus:0},quota_info:{normal:0,shared:0,quota:0},account_id:"",disabled:!1,email:"",role:"",teams_member:!1,name:{given_name:"Guest",surname:"",display_name:"Guest",familiar_name:"",abbreviated_name:"G"}};var d={visibility:a.SidebarVisibility.Closed,paneStack:[]};t.DEFAULT_MODE={mode:a.FileViewerMode.Default,sidebar:d},t.DEFAULT_STATE={previewData:{},fileMetadata:{},rivieraData:{},fileViewerUi:{},currentFileInfo:{},loggingSession:{},users:{},currentUser:t.DEFAULT_USER,modes:{},nativeApps:{}},t.DEFAULT_FILE_PREVIEW_UI={isDocSidebarOpen:!1,fitScaleFactor:0,currentPageIndex:0,isSidebarOpen:!1};var p=function(e,i){void 0===e&&(e=t.DEFAULT_STATE.previewData);var a,n;switch(i.type){case"@@previews/initializeFilePreview":return e[i.payload.fileIdOrRevisionId]?e:r.__assign({},e,(a={},a[i.payload.fileIdOrRevisionId]={},a));case"@@apiv2_redux/previews/get_preview_data_batch_result":if(!i.payload||!i.payload.result)return e;var o=i.payload.result.results;return r.__assign({},e,o.reduce(function(e,t){var r=t.file.file_id;if(null==r)throw Error("Invalid response: file_id must be present in FileInfo for get_preview_data_batch");return t.preview&&(e[r]=t.preview),e},{}));case"@@apiv2_redux/previews/get_preview_data_by_file_ids_batch_result":if(!i.payload||!i.payload.result)return e;var s=i.payload.result.preview_data;return r.__assign({},e,s.reduce(function(e,t){return t.preview&&(e[t.file_id]=t.preview),e},{}));case"@@previews/refreshBlobSuccess":if(!i.payload)return e;var l=i.payload,c=l.fileIdOrRevisionId,u=l.preview,d=e[c]?e[c].content:{};return r.__assign({},e,(n={},n[c]=r.__assign({},e[c],{content:r.__assign({},d,u)}),n))}return e},f=function(e,i){void 0===e&&(e=t.DEFAULT_STATE.fileMetadata);var a,n;return i.payload?"@@previews/initializeFilePreview"===i.type?r.__assign({},e,(a={},a[i.payload.fileIdOrRevisionId]=r.__assign({},e[i.payload.fileIdOrRevisionId],{file_id:i.payload.fileIdOrRevisionId,file_name:i.payload.fileName}),a)):"@@previews/setFileMetadata"===i.type?r.__assign({},e,(n={},n[i.payload.file_id]=i.payload,n)):e:e};t.DEFAULT_DOC_PREVIEW_METADATA={metadata:{page_count:0,dimensions:[[0,0,0]]},pages:[]};var v=function(e,i){void 0===e&&(e=t.DEFAULT_STATE.rivieraData);var a,n,o,s,l,c=i.payload,u=i.error;if(!c)return e;var d=c.fileIdOrRevisionId;switch(i.type){case"@@previews/initializeFilePreview":return e[i.payload.fileIdOrRevisionId]?e:r.__assign({},e,(a={},a[i.payload.fileIdOrRevisionId]={},a));case"@@previews/fetchPhotoMetadataResult":return r.__assign({},e,(n={},n[d]={originalWidth:i.payload.originalWidth,originalHeight:i.payload.originalHeight},n));case"@@previews/fetchDocMetadataResult":return!i.payload.data||u?r.__assign({},e,(o={},o[d]=r.__assign({},t.DEFAULT_DOC_PREVIEW_METADATA,{error:i.error}),o)):r.__assign({},e,(s={},s[d]=i.payload.data,s));case"@@previews/fetchDataForPageResult":var p=e[d]||t.DEFAULT_DOC_PREVIEW_METADATA,f=p.metadata,v=p.pages;if(i.payload.data){var _=i.payload.data,m=_.metadata,g=_.pages,w=f;m&&(w=r.__assign({},f,m));var h=v||new Array(w.page_count);return Array.isArray(g)&&g.length&&(h=h.slice(),g.forEach(function(e){return h[e.pageIndex]=e})),r.__assign({},e,(l={},l[d]={metadata:w,pages:h},l))}}return e},_=function(e,i){void 0===e&&(e=t.DEFAULT_STATE.fileViewerUi);var a,o,u,d,p,f,v,_,m,g,w,h,b,y,F,A,S,P,x,I,D;if(!i.payload)return e;if("@@previews/initializeFileViewer"===i.type)return r.__assign({},e,(a={},a[i.payload.fileViewerId]={},a));var R=i.payload,C=R.fileViewerId,E=R.fileIdOrRevisionId,M=e[C]||{},O=M[E]||{},T=O.zoomScaleFactor||O.fitScaleFactor;switch(i.type){case"@@previews/initializeFilePreview":return r.__assign({},e,(o={},o[C]=r.__assign({},M,(u={},u[E]=r.__assign({},t.DEFAULT_FILE_PREVIEW_UI,O,{isDocSidebarOpen:n.PRESENTATION_EXTS.includes(i.payload.fileExtension)}),u)),o));case"@@previews/updateDocCurrentPageIndex":var k=i.payload,V=k.pageIndex,U=k.pageCount;return V<0?V=0:U&&V>=U-1&&(V=U-1),r.__assign({},e,(d={},d[C]=r.__assign({},M,(p={},p[E]=r.__assign({},O,{currentPageIndex:V}),p)),d));case"@@previews/pageUp":return r.__assign({},e,(f={},f[C]=r.__assign({},M,(v={},v[E]=r.__assign({},O,{currentPageIndex:Math.max(O.currentPageIndex-1,0)}),v)),f));case"@@previews/pageDown":return r.__assign({},e,(_={},_[C]=r.__assign({},M,(m={},m[E]=r.__assign({},O,{currentPageIndex:Math.min(O.currentPageIndex+1,i.payload.pageCount||1)}),m)),_));case"@@previews/zoomIn":return r.__assign({},e,(g={},g[C]=r.__assign({},M,(w={},w[E]=r.__assign({},O,{zoomScaleFactor:"ssr_doc"===i.payload.previewType?c(T,s.DOC_ZOOM_MULTIPLIER):l(T,s.IMG_ZOOM_MULTIPLIER)}),w)),g));case"@@previews/zoomOut":return r.__assign({},e,(h={},h[C]=r.__assign({},M,(b={},b[E]=r.__assign({},O,{zoomScaleFactor:"ssr_doc"===i.payload.previewType?c(T,1/s.DOC_ZOOM_MULTIPLIER):l(T,1/s.IMG_ZOOM_MULTIPLIER)}),b)),h));case"@@previews/zoomOriginalOrFit":return r.__assign({},e,(y={},y[C]=r.__assign({},M,(F={},F[E]=r.__assign({},O,{zoomScaleFactor:T===O.fitScaleFactor?1:void 0}),F)),y));case"@@previews/updateFitScaleFactor":return O.fitScaleFactor===i.payload.fitScaleFactor?e:r.__assign({},e,(A={},A[C]=r.__assign({},M,(S={},S[E]=r.__assign({},O,{fitScaleFactor:i.payload.fitScaleFactor}),S)),A));case"@@previews/fileViewerUi/openDocSidebar":return r.__assign({},e,(P={},P[C]=r.__assign({},M,(x={},x[E]=r.__assign({},O,{isDocSidebarOpen:!0}),x)),P));case"@@previews/fileViewerUi/closeDocSidebar":return r.__assign({},e,(I={},I[C]=r.__assign({},M,(D={},D[E]=r.__assign({},O,{isDocSidebarOpen:!1}),D)),I))}return e};t.loggingSessionReducer=function(e,a){void 0===e&&(e=t.DEFAULT_STATE.loggingSession);var n,s,l;if("@@previews/initializeFilePreviewSession"===a.type){var c=a.payload,u=c.fileViewerId,d=c.sourceSession;return r.__assign({},e,(n={},n[u]=i.createFilePreviewSession({file_viewer_session_id:a.payload.fileViewerId,file_preview_session_id:o.v4(),file_id:a.payload.fileId,device_type:a.payload.deviceType,file_extension:a.payload.fileExtension,extra:d}),n))}if("@@previews/updateSession"===a.type)return r.__assign({},e,(s={},s[a.payload.file_viewer_session_id]=a.payload,s));if("@@previews/initializeFilePreview"===a.type){var p=a.payload,u=p.fileViewerId,f=p.fileIdOrRevisionId;return r.__assign({},e,(l={},l[u]=r.__assign({},e[u],{file_id:f}),l))}return e},t.currentFileInfoReducer=function(e,i){void 0===e&&(e=t.DEFAULT_STATE.currentFileInfo);var a;switch(i.type){case"@@previews/setCurrentFilePreview":return r.__assign({},e,(a={},a[i.payload.fileViewerId]=r.__assign({fileId:"0"},i.payload.fileInfo),a));case"@@apiv2_redux/previews/get_preview_data_batch_result":if(i.payload.result){for(var n={},o=0,s=Object.keys(e);o<s.length;o++)for(var l=s[o],c=e[l],u=0,d=i.payload.result.results;u<d.length;u++){var p=d[u];p.file.url===c.url&&(n[l]=p.file)}if(Object.keys(n).length>0)return r.__assign({},e,n)}return e;default:return e}};var m=function(e,r){return void 0===e&&(e=t.DEFAULT_STATE.currentUser),"@@apiv2_redux/users/get_current_account_result"===r.type&&r.payload.result?r.payload.result:e};t.usersReducer=function(e,i){return void 0===e&&(e=t.DEFAULT_STATE.users),"@@apiv2_redux/users/get_account_batch_result"===i.type&&i.payload.result?r.__assign({},e,i.payload.result.reduce(function(e,t){return e[t.account_id]=t,e},{})):e};var g=function(e){return r.__assign({},e,{sidebar:r.__assign({},e.sidebar,{visibility:e.sidebar.visibility===a.SidebarVisibility.Open?a.SidebarVisibility.Closed:a.SidebarVisibility.Open})})},w=(u={},u[a.FileViewerMode.Default]=function(e){return e.mode===a.FileViewerMode.Default?e:r.__assign({},e,{mode:a.FileViewerMode.Default})},u[a.FileViewerMode.Documentation]=function(e){return e.mode===a.FileViewerMode.Documentation?g(e):r.__assign({},e,{mode:a.FileViewerMode.Documentation,sidebar:r.__assign({},e.sidebar,{paneStack:[a.SidebarPaneId.Documentation],selectedControlId:a.SidebarControlId.Documentation,visibility:a.SidebarVisibility.Open})})},u[a.FileViewerMode.Commenting]=function(e){return e.mode===a.FileViewerMode.Commenting?g(e):r.__assign({},e,{mode:a.FileViewerMode.Commenting,sidebar:r.__assign({},e.sidebar,{paneStack:[a.SidebarPaneId.Comments],selectedControlId:a.SidebarControlId.Comments,visibility:a.SidebarVisibility.Open})})},u[a.FileViewerMode.Watermarking]=function(e){return e.mode===a.FileViewerMode.Watermarking?g(e):r.__assign({},e,{mode:a.FileViewerMode.Watermarking,sidebar:r.__assign({},e.sidebar,{paneStack:[a.SidebarPaneId.Watermarking],selectedControlId:a.SidebarControlId.Watermarking,visibility:a.SidebarVisibility.Open})})},u);t.modesReducer=function(e,i){void 0===e&&(e=t.DEFAULT_STATE.modes);var a,n,o,s,l;switch(i.type){case"@@previews/initializeFileViewer":return r.__assign({},e,(a={},a[i.payload.fileViewerId]=t.DEFAULT_MODE,a));case"@@previews/setSidebarVisibility":var c=i.payload,u=c.fileViewerId,d=c.visibility;return r.__assign({},e,(n={},n[u]=r.__assign({},e[u],{sidebar:r.__assign({},e[u].sidebar,{visibility:d})}),n));case"@@previews/modes/changeMode":var p=w[i.payload.mode](e[i.payload.fileViewerId]);return p!==e[i.payload.fileViewerId]?r.__assign({},e,(o={},o[i.payload.fileViewerId]=p,o)):e;case"@@previews/pushSidebarPane":var f=i.payload,u=f.fileViewerId,v=f.paneId,_=e[u]||t.DEFAULT_MODE,m=_.sidebar.paneStack;return m.includes(v)?e:r.__assign({},e,(s={},s[u]=r.__assign({},_,{sidebar:r.__assign({},_.sidebar,{paneStack:m.concat([v])})}),s));case"@@previews/popSidebarPane":var u=i.payload.fileViewerId,_=e[u]||t.DEFAULT_MODE,m=_.sidebar.paneStack;return 0===m.length?e:r.__assign({},e,(l={},l[u]=r.__assign({},_,{sidebar:r.__assign({},_.sidebar,{paneStack:m.slice(0,-1)})}),l));default:return e}};var h=function(e,i){void 0===e&&(e=t.DEFAULT_STATE.nativeApps);var a,n;return"@@previews/initializeFilePreview"===i.type?r.__assign({},e,(a={},a[i.payload.fileIdOrRevisionId]={apps:[]},a)):"@@previews/fetchNativeAppsResult"===i.type?r.__assign({},e,(n={},n[i.payload.fileId]=i.payload.result,n)):e};t.reducers={modes:t.modesReducer,previewData:p,fileMetadata:f,rivieraData:v,fileViewerUi:_,loggingSession:t.loggingSessionReducer,currentFileInfo:t.currentFileInfoReducer,users:t.usersReducer,currentUser:m,nativeApps:h}}),define("file-viewer/core/data/riviera/api",["require","exports","tslib"],function(e,t,r){"use strict";function i(e,t,r){return 401===e&&r?new n("Password required",12):new n("Load Error",t.rivieraStatusCode)}function a(e,t,r,i,a){void 0===r&&(r=0),void 0===i&&(i=50),void 0===a&&(a=!1);var n=new URL(e);return t&&n.searchParams.set("metadata","1"),void 0!==r&&(n.searchParams.set("text","1"),n.searchParams.set("page_start",r.toString()),n.searchParams.set("page_end",i.toString())),a&&n.searchParams.set("canned_file_name","spdf/audi.pdf.json"),n.toString()}Object.defineProperty(t,"__esModule",{value:!0});var n=(function(e){function t(t,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.statusCode=r,i}return r.__extends(t,e),t})(Error);t.RivieraError=n;var o=function(e){var t={};try{e&&(t=JSON.parse(e))}catch(e){}return t};t.textUrl=a;var s=(function(){function e(){}return e.prototype.refreshDocBlob=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var i,a,n;return r.__generator(this,function(r){switch(r.label){case 0:return i=t?{password:t}:{},[4,fetch(e,{headers:{"content-type":"application/json"},body:JSON.stringify(i),credentials:"include",method:"POST"})];case 1:return a=r.sent(),[4,a.json()];case 2:return n=r.sent(),[2,{ok:a.ok,status:a.status,data:n,headers:{"x-dropbox-metadata":a.headers.get("x-dropbox-metadata"),"x-dropbox-pdf-password-needed":a.headers.get("x-dropbox-pdf-password-needed")}}]}})})},e.prototype.fetchDocMetadata=function(e,t,i,n,o){return r.__awaiter(this,void 0,void 0,function(){var s,l;return r.__generator(this,function(r){switch(r.label){case 0:return[4,fetch(a(e,t,i,n,o),{headers:{"content-type":"application/json"},credentials:"include",method:"POST"})];case 1:return s=r.sent(),[4,s.json()];case 2:return l=r.sent(),[2,{ok:s.ok,status:s.status,data:l,headers:{"x-dropbox-metadata":s.headers.get("x-dropbox-metadata"),"x-dropbox-pdf-password-needed":s.headers.get("x-dropbox-pdf-password-needed")}}]}})})},e})();t.WebRivieraIOClient=s;var l=(function(){function e(e){this.ioClient=e}return e.prototype.refreshDocBlob=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var a,n,s,l,c,u,d,p,f,v;return r.__generator(this,function(r){switch(r.label){case 0:return[4,this.ioClient.refreshDocBlob(e,t)];case 1:if(a=r.sent(),n=a.data,s=a.status,l=a.ok,c=a.headers,!l)throw u="1"===c["x-dropbox-pdf-password-needed"],d=o(c["x-dropbox-metadata"]),i(s,d,u);return p=n.text,f=n.image,v=n.refresh,[2,{text_url_tmpl:p,image_url_tmpl:f,refresh_url:v}]}})})},e.prototype.fetchDocMetadata=function(e,t,a,n,s){return void 0===t&&(t=!1),void 0===a&&(a=0),void 0===n&&(n=50),void 0===s&&(s=!1),r.__awaiter(this,void 0,void 0,function(){var l,c,u,d,p,f,v;return r.__generator(this,function(r){switch(r.label){case 0:return[4,this.ioClient.fetchDocMetadata(e,t,a,n,s)];case 1:if(l=r.sent(),c=l.ok,u=l.data,d=l.status,p=l.headers,c)return[2,u];throw f="1"===p["x-dropbox-pdf-password-needed"],v=o(p["x-dropbox-metadata"]),i(d,v,f)}})})},e})();t.RivieraClientBase=l}),define("file-viewer/core/data/riviera",["require","exports","file-viewer/core/data/riviera/api","file-viewer/core/data/riviera/transform","file-viewer/core/data/riviera/types"],function(e,t,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RivieraError=r.RivieraError,t.RivieraClientBase=r.RivieraClientBase,t.WebRivieraIOClient=r.WebRivieraIOClient,t.processTextResponse=i.processTextResponse,t.RivieraStatus=a.RivieraStatus}),define("file-viewer/core/data/riviera/transform",["require","exports","tslib","file-viewer/core/urls"],function(e,t,r,i){"use strict";function a(e){var t=e.n.lastIndexOf(",");return{fontFamily:'"'+(t>-1?e.n.substr(0,t):e.n)+'", '+(1&e.f?"monospace":"serif"),isBold:(e.f&1<<18)>0,isItalic:(64&e.f)>0}}function n(e,t,n){var o=t.text,s=t.metadata||n;if(!o||!o.pages||!s)return{metadata:void 0,pages:[]};var l=o.links,c=o.pages,u=(o.fonts||[]).reduce(function(e,t){return e[t.f]=a(t),e},{}),d=s.dimensions.reduce(function(e,t){for(var r=t[0],i=t[1],a=t[2],n=0;n<a;n++)e.push([r,i]);return e},[]);return{metadata:t.metadata,pages:Object.keys(c).map(function(t){var a=c[t]||[],n=a.map(function(e){return r.__assign({},e,{font:u[e.f]})}),o=+t;return{pageIndex:o,dimension:d[o],thumbnailUrl:i.imageUrl(e,{page:o,scale_percent:0}),imgUrls:{"1x":i.imageUrl(e,{page:o,scale_percent:0}),"4x":i.imageUrl(e,{page:o,scale_percent:400})},textboxes:n,links:l&&l[o]||[]}})}}Object.defineProperty(t,"__esModule",{value:!0});t.processTextResponse=n}),define("file-viewer/core/data/riviera/types",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.Unknown=0]="Unknown",e[e.OK=1]="OK",e[e.ConversionFailure=2]="ConversionFailure",e[e.TemporaryFailure=3]="TemporaryFailure",e[e.InternalFailure=4]="InternalFailure",e[e.UnsupportedFormat=5]="UnsupportedFormat",e[e.Timeout=6]="Timeout",e[e.TooBig=7]="TooBig",e[e.InvalidMetadata=8]="InvalidMetadata",e[e.SourceCorrupt=9]="SourceCorrupt",e[e.TimeBudgetExceeded=10]="TimeBudgetExceeded",e[e.NotFound=11]="NotFound",e[e.PasswordProtected=12]="PasswordProtected",e[e.InvalidRequest=13]="InvalidRequest",e[e.VirusDetected=14]="VirusDetected",e[e.BlockMissing=15]="BlockMissing"})(t.RivieraStatus||(t.RivieraStatus={}))}),define("file-viewer/core/data/selectors",["require","exports"],function(e,t){"use strict";function r(e){return e.zoomScaleFactor||e.fitScaleFactor}Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentScaleFactorFromFilePreviewUi=r}),define("file-viewer/core/errors",["require","exports","tslib"],function(e,t,r){"use strict";function i(e){return e instanceof a}Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.PreviewsDataApiFailure=0]="PreviewsDataApiFailure",e[e.MalformedPreviewsDataApiResponse=1]="MalformedPreviewsDataApiResponse",e[e.PreviewRendererFetchFailure=2]="PreviewRendererFetchFailure",e[e.LayerRendererFetchFailure=3]="LayerRendererFetchFailure",e[e.RivieraDataFetchFailure=4]="RivieraDataFetchFailure",e[e.MalformedRivieraData=5]="MalformedRivieraData",e[e.FileTooLarge=6]="FileTooLarge",e[e.UnsupportedPreviewType=7]="UnsupportedPreviewType",e[e.NoExtension=8]="NoExtension",e[e.PasswordProtected=9]="PasswordProtected",e[e.FileUploading=10]="FileUploading",e[e.Unknown=11]="Unknown",e[e.FileSwitched=12]="FileSwitched",e[e.InvalidFileInfo=13]="InvalidFileInfo",e[e.InvalidLoggingOrder=14]="InvalidLoggingOrder",e[e.InvalidLoggingSession=15]="InvalidLoggingSession"})(t.FVErrorCode||(t.FVErrorCode={}));var a=(function(e){function t(r,i){var a=e.call(this,i)||this;return a.type=r,Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return r.__extends(t,e),t})(Error);t.FVError=a,t.isFVError=i}),define("file-viewer/core/extension_constants",["require","exports"],function(e,t){"use strict";function r(e){return e=e.toLowerCase(),t.DOC_EXTS.includes(e)?"ssr_doc":t.PHOTO_EXTS.includes(e)?"image":m.includes(e)?"video":g.includes(e)?"audio":b.includes(e)?"linkfile":_.includes(e)?"html":P.includes(e)?"cloud_doc":"other"}Object.defineProperty(t,"__esModule",{value:!0});var i=[".odt",".wpd"],a=[".odp"],n=[".doc",".docx",".docm",".rtf"],o=[".ppt",".pps",".ppsx",".ppsm",".pptx",".pptm"],s=[".pdf"],l=[".ai",".eps"];t.PHOTO_EXTS=[".bmp",".gif",".jpeg",".jpg",".png",".tif",".tiff",".wbmp",".webp"]
;var c=[".key",".keynote"],u=[".dwg"],d=[".as",".as3",".asm",".aspx",".bat",".c",".cc",".cmake",".coffee",".cpp",".cs",".css",".cxx",".diff",".erb",".erl",".groovy",".gry",".h",".haml",".hh",".hpp",".hxx",".java",".js",".json",".jsx",".less",".lst",".m",".make",".ml",".mm",".out",".patch",".php",".pl",".plist",".properties",".py",".rb",".sass",".scala",".scm",".script",".scss",".sh",".sml",".sql",".tsx",".vb",".vi",".vim",".xml",".xsd",".xsl",".yaml",".yml"],p=[".epub"],f=[".markdown",".mdown",".mkdn",".md"],v=[".abap",".ada",".adp",".ahk",".asc",".ascx",".asp",".awk",".bash",".bash_login",".bash_logout",".bash_profile",".bashrc",".bib",".bsh",".build",".builder",".c++",".capfile",".cfc",".cfm",".cfml",".cl",".clj",".cls",".cmd",".cpt",".cpy",".cshtml",".cson",".csproj",".ctp",".d",".ddl",".di",".dif",".disco",".dml",".dtd",".dtml",".el",".emakefile",".f",".f90",".f95",".fs",".fsi",".fsscript",".fsx",".gemfile",".gemspec",".gitconfig",".go",".gvy",".h++",".handlebars",".hbs",".hcp",".hrl",".hs",".htc",".idl",".iim",".inc",".inf",".ini",".inl",".ipp",".irbrc",".jade",".jav",".jsp",".l",".lhs",".lisp",".log",".ltx",".lua",".markdn",".mli",".mll",".mly",".mud",".nfo",".opml",".osascript",".out",".p",".pas",".patch",".php2",".php3",".php4",".php5",".phtml",".pm",".pod",".pp",".profile",".ps1",".psd1",".psm1",".pt",".pyw",".r",".rake",".rbx",".rc",".re",".readme",".reg",".rest",".resw",".resx",".rhtml",".rjs",".rprofile",".rpy",".rss",".rst",".rxml",".s",".scm",".sconscript",".sconstruct",".sgml",".shtml",".sty",".swift",".tcl",".tex",".text",".textile",".tld",".tli",".tmpl",".tpl",".txt",".vim",".wsdl",".xhtml",".xoml",".xslt",".yaws",".zsh"],_=d.concat(p,f,v),m=[".3gp",".3gpp",".3gpp2",".asf",".avi",".dv",".flv",".m2t",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".mts",".mxf",".oggtheora",".ogv",".rm",".ts",".vob",".webm",".wmv"],g=[".aac",".aif",".aiff",".m4a",".m4r",".mp3",".oga",".wav",".wma"],w=[".url",".website"],h=[".webloc"],b=w.concat(h),y=[".paper",".papert"],F=[".gdoc",".gslides"],A=[".gsheet"],S=[".web"],P=y.concat(A,F,S);t.PRESENTATION_EXTS=o.concat(a),t.DOC_EXTS=s.concat(l,a,i,o,n,c,u),t.resolvePreviewTypeFromExtension=r}),define("file-viewer/core/i18n",["require","exports","tslib","intl-messageformat","file-viewer/core/uuid"],function(e,t,r,i,a){"use strict";function n(e,t){var r=Array.isArray(e)?e.slice():[e];if(r.sort(),!t)return r.join("|");var i=Object.keys(t);return i.sort(),i.reduce(function(e,r){return e+"|"+r+"="+t[r]},r.join("|"))}function o(e,t){return function(r,i){var a=n(e,i);return t[a]||(t[a]=new Intl.NumberFormat(e,i)),t[a].format(r)}}function s(e,t){return function(r,i){var a=n(e,i);return t[a]||(t[a]=new Intl.DateTimeFormat(e,i)),t[a].format(r)}}function l(e){return e.replace(/%\((.*?)\)s/g,"{$1}")}function c(e,t){var r={},i={};t&&(r=Object.keys(t).reduce(function(e,r){var n=t[r];if("object"==typeof n){var o=a.v4();i[o]=n,e[r]=_+o+_}else e[r]=n;return e},{}));var n=e(r),o=Object.keys(i);return t&&o.length?n.split(_).filter(Boolean).map(function(e){return e in i?i[e]:e}):n}function u(e,t,r){return void 0===r&&(r={}),function(a,n){var o,s=a.id,l=a.defaultMessage;return s?(o=r[s],o||(o=new i.default(t[s]||l,e)),r[s]=o):o=new i.default(l,e),c(function(e){return o.format(e)},n)}}function d(e,t,r){void 0===r&&(r={});var i=Object.keys(t).reduce(function(e,r){var i=t[r];return"object"==typeof i?(e[r+"-one"]=l(i.message(1)),e[r+"-other"]=l(i.message(2))):e[r]=l(i),e},{}),a=u(e,i,r);return function(e,r){var i=e.id,n=e.defaultMessage;if(i){var o=t[i];if("object"==typeof o&&r){return a({id:r[o.token]>1?i+"-other":i+"-one",defaultMessage:n},r)}}return r?a(e,r):a(e)}}function p(){return{messageFormat:{},numberFormat:{},dateTimeFormat:{}}}function f(e,t,r){return{formatMessage:u(e,t,r.messageFormat),formatNumber:o(e,r.numberFormat),formatDateTime:s(e,r.dateTimeFormat)}}function v(e,t,r){return{formatMessage:d(e,t,r.messageFormat),formatNumber:o(e,r.numberFormat),formatDateTime:s(e,r.dateTimeFormat)}}Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importDefault(i);var _="@__"+a.v4()+"__@";t.createI18nCache=p,t.createFormatters=f,t.createMetaserverFormatters=v,t.dummyFormatMessage=function(e){return e.defaultMessage},t.dummyI18nFormatters=f("en",{},p()),t.dummyMetaserverI18nFormatters=v("en",{},p())}),define("file-viewer/core",["require","exports","file-viewer/core/utils","file-viewer/core/i18n","file-viewer/core/invariant","file-viewer/core/ui/types","file-viewer/core/uuid","file-viewer/core/bootstrap","file-viewer/core/data/reducer","file-viewer/core/data/models","file-viewer/core/data/actions","modules/clean/api_v2/redux/previews","file-viewer/core/logging/session","file-viewer/core/logging/actions","file-viewer/core/urls","file-viewer/core/data/riviera","file-viewer/core/extension_constants","file-viewer/core/utils","file-viewer/core/config","file-viewer/core/data/modes/types","file-viewer/core/middlewares/navigation","file-viewer/core/middlewares/native_apps","file-viewer/core/constants","file-viewer/core/errors"],function(e,t,r,i,a,n,o,s,l,c,u,d,p,f,v,_,m,g,w,h,b,y,F,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateFitBox=r.calculateFitBox,t.shallowEqual=r.shallowEqual,t.createFormatters=i.createFormatters,t.createI18nCache=i.createI18nCache,t.dummyFormatMessage=i.dummyFormatMessage,t.dummyI18nFormatters=i.dummyI18nFormatters,t.createMetaserverFormatters=i.createMetaserverFormatters,t.dummyMetaserverI18nFormatters=i.dummyMetaserverI18nFormatters,t.invariant=a.invariant,t.Theme=n.Theme,t.uuidV4=o.v4,t.createFileViewerSDK=s.createFileViewerSDK,t.createSDKStore=s.createSDKStore,t.reducers=l.reducers,t.DEFAULT_FILE_PREVIEW_UI=l.DEFAULT_FILE_PREVIEW_UI,t.DEFAULT_USER=l.DEFAULT_USER,t.DEFAULT_MODE=l.DEFAULT_MODE,t.PreviewType=c.PreviewType,t.Action=u.Action,t.fetchDataForPageResultAction=u.fetchDataForPageResultAction,t.fetchDocMetadataAction=u.fetchDocMetadataAction,t.fetchDocMetadataResultAction=u.fetchDocMetadataResultAction,t.refreshBlobSuccessAction=u.refreshBlobSuccessAction,t.updateDocCurrentPageIndex=u.updateDocCurrentPageIndex,t.zoomIn=u.zoomIn,t.zoomOut=u.zoomOut,t.zoomOriginalOrFit=u.zoomOriginalOrFit,t.updateFitScaleFactor=u.updateFitScaleFactor,t.refreshBlobAction=u.refreshBlobAction,t.openDocSidebar=u.openDocSidebar,t.closeDocSidebar=u.closeDocSidebar,t.setCurrentFilePreview=u.setCurrentFilePreview,t.pageUp=u.pageUp,t.pageDown=u.pageDown,t.changeMode=u.changeMode,t.sidebarControlClickAction=u.sidebarControlClickAction,t.setSidebarVisibilityAction=u.setSidebarVisibilityAction,t.shareAction=u.shareAction,t.openWith=u.openWith,t.openWebPreview=u.openWebPreview,t.setFileMetadata=u.setFileMetadata,t.initializeFilePreviewSession=u.initializeFilePreviewSession,t.initializeFilePreview=u.initializeFilePreview,t.previewsDataMiddleware=d.middleware,t.createFilePreviewSession=p.createFilePreviewSession,t.DeviceType=p.DeviceType,t.EventType=p.EventType,t.SourceAction=p.SourceAction,t.SourceContext=p.SourceContext,t.UserAction=p.UserAction,t.UserActionContext=p.UserActionContext,t.logEvent=f.logEvent,t.logTTI=f.logTTI,t.imageUrl=v.imageUrl,t.RivieraStatus=_.RivieraStatus,t.RivieraError=_.RivieraError,t.WebRivieraIOClient=_.WebRivieraIOClient,t.PHOTO_EXTS=m.PHOTO_EXTS,t.DOC_EXTS=m.DOC_EXTS,t.PRESENTATION_EXTS=m.PRESENTATION_EXTS,t.resolvePreviewTypeFromExtension=m.resolvePreviewTypeFromExtension,t.getFileExtension=g.getFileExtension,t.getParentFolderFromPath=g.getParentFolderFromPath,t.fileSizeSupported=g.fileSizeSupported,t.getFileSizeLimit=g.getFileSizeLimit,t.resolveAsset=g.resolveAsset,t.resolvePreviewType=g.resolvePreviewType,t.DEFAULT_CONFIG=w.DEFAULT_CONFIG,t.SidebarControlId=h.SidebarControlId,t.SidebarPaneId=h.SidebarPaneId,t.SidebarVisibility=h.SidebarVisibility,t.FileViewerMode=h.FileViewerMode,t.navigationMiddleware=b.middleware,t.nativeAppsMiddleware=y.middleware,t.MAX_IMG_SCALE_FACTOR=F.MAX_IMG_SCALE_FACTOR,t.MIN_IMG_SCALE_FACTOR=F.MIN_IMG_SCALE_FACTOR,t.FVErrorCode=A.FVErrorCode,t.FVError=A.FVError,t.isFVError=A.isFVError}),define("file-viewer/core/invariant",["require","exports","file-viewer/core/errors"],function(e,t,r){"use strict";function i(e,t,i){if(void 0===t&&(t=r.FVErrorCode.Unknown),!e){var a=void 0;throw a=void 0===i?new r.FVError(t,"An error occurred for unknown reason"):new r.FVError(t,i),a.framesToPop=1,a}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.invariant=i}),define("file-viewer/core/logging/actions",["require","exports"],function(e,t){"use strict";function r(e){return{type:"@@previews/log",payload:e}}function i(e){return{type:"@@previews/logTTI",payload:e}}function a(e){return{type:"@@previews/updateSession",payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.UpdateSession="@@previews/updateSession",e.Log="@@previews/log",e.LogTTI="@@previews/logTTI"})(t.Action||(t.Action={})),t.logEvent=r,t.logTTI=i,t.updateSession=a}),define("file-viewer/core/logging/session",["require","exports","tslib","file-viewer/core/uuid","file-viewer/core/invariant","file-viewer/core/errors"],function(e,t,r,i,a,n){"use strict";function o(e){var t=e||{},a=t.file_viewer_session_id,n=void 0===a?i.v4():a,o=t.file_preview_session_id,s=void 0===o?i.v4():o,l=t.file_id,c=void 0===l?"":l,u=t.file_extension,d=void 0===u?"":u,p=t.device_type,f=void 0===p?"desktop":p,v=t.extra,_=void 0===v?{}:v;return{file_viewer_session_id:n,file_preview_session_id:s,file_id:c,file_extension:d,device_type:f,extra:r.__assign({},_,{source_action:_.source_action||"visit",source_context:_.source_context||"file_viewer",file_preview_timeline:{}})}}function s(e,t,i){var o,s=e.extra.last_event;if(s===t)return e;switch(t){case"support_confirmed":case"support_denied":a.invariant("preview_attempted"===s,n.FVErrorCode.InvalidLoggingOrder,"Event out of order, expect `last_event` to be 'preview_attempted' but was '"+s+"'");break;case"download_attempted":a.invariant("support_confirmed"===s,n.FVErrorCode.InvalidLoggingOrder,"Event out of order, expect `last_event` to be 'support_confirmed' but was '"+s+"'");break;case"download_failed":case"download_succeeded":a.invariant("download_attempted"===s,n.FVErrorCode.InvalidLoggingOrder,"Event out of order, expect `last_event` to be 'download_attempted' but was '"+s+"'");break;case"render_succeeded":case"render_failed":a.invariant("download_succeeded"===s,n.FVErrorCode.InvalidLoggingOrder,"Event out of order, expect `last_event` to be 'download_succeeded' but was '"+s+"'")}return r.__assign({},e,{extra:r.__assign({},e.extra,{file_preview_timeline:r.__assign({},e.extra.file_preview_timeline,(o={},o[t]=Date.now(),o))},i||{})})}function l(e,t){return r.__assign({},e,{extra:r.__assign({},e.extra,{last_event:t})})}function c(e,t){return r.__assign({},e,{extra:r.__assign({},e.extra,t)})}function u(e){var t=r.__assign({},e.extra);if(t.time_to_primary_mark)return e;switch(t.primary_mark_ts||(t.primary_mark_ts=Date.now()),t.source_action){case"visit":a.invariant(!!t.page_start_ts,n.FVErrorCode.InvalidLoggingSession,"Cannot calculate 1st page TTI without page_start_ts"),t.time_to_primary_mark=t.primary_mark_ts-t.page_start_ts;break;case"click":a.invariant(t.file_preview_timeline&&!!t.file_preview_timeline.preview_attempted,n.FVErrorCode.InvalidLoggingSession,"Cannot calculate subsequent page TTI without preview_attempted timestamp"),t.time_to_primary_mark=t.primary_mark_ts-t.file_preview_timeline.preview_attempted}return r.__assign({},e,{extra:t})}Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.mobile="mobile",e.tablet="tablet",e.desktop="desktop"})(t.DeviceType||(t.DeviceType={})),(function(e){e.Click="click",e.DoubleClick="double_click",e.Visit="visit"})(t.SourceAction||(t.SourceAction={})),(function(e){e.FilePreviewSessionEnded="preview_session_ended",e.FilePreviewAttemptStarted="preview_attempted",e.FilePreviewSupportConfirmed="support_confirmed",e.FilePreviewSupportDenied="support_denied",e.FilePreviewDownloadAttempted="download_attempted",e.FilePreviewDownloadSucceeded="download_succeeded",e.FilePreviewDownloadFailed="download_failed",e.FilePreviewRenderSucceeded="render_succeeded",e.FilePreviewRenderFailed="render_failed",e.UserAction="user_action"})(t.EventType||(t.EventType={})),(function(e){e.ArchiveFile="archive_file",e.Browse="browse",e.CollabBrowse="collab_browse",e.Desktop="desktop",e.DesktopDetailsPaneMenu="desktop_details_pane_menu",e.DesktopPreviewPane="desktop_preview_pane",e.DesktopTray="desktop_tray",e.EmbeddedSharedLinkFile="embedded_sl_file",e.FileViewer="file_viewer",e.SharedLinkCollection="sl_collection",e.SharedLinkFile="sl_file",e.SharedLinkFolder="sl_folder",e.VersionHistory="version_history"})(t.SourceContext||(t.SourceContext={})),(function(e){e.Share="share",e.Download="download",e.PageChange="page_change",e.PageUp="page_up",e.PageDown="page_down",e.ToggleFullscreenOn="toggle_fullscreen_on",e.ToggleFullscreenOff="toggle_fullscreen_off",e.CloseDocSidebar="close_doc_sidebar",e.OpenDocSidebar="open_doc_sidebar",e.FlipNext="flip_next",e.FlipPrevious="flip_prev",e.ZoomIn="zoom_in",e.ZoomOut="zoom_out",e.ZoomOriginalOrFit="zoom_original_or_fit",e.ToggleSidebarOn="toggle_sidebar_on",e.ToggleSidebarOff="toggle_sidebar_off",e.PageJump="page_jump",e.ModeChange="mode_change",e.OpenWith="open_with",e.OpenWebPreview="open_web_preview"})(t.UserAction||(t.UserAction={})),(function(e){e.Toolbar="toolbar",e.DocSidebar="doc_sidebar",e.Sidebar="sidebar",e.MouseWheel="mouse_wheel",e.DocReset="doc_reset",e.DocLink="doc_link",e.SurfaceGesture="surface_gesture",e.PreviewError="preview_error",e.TrayButton="tray_button",e.Initialization="initialization"})(t.UserActionContext||(t.UserActionContext={})),t.createFilePreviewSession=o,t.recordEvent=s,t.updateSessionLastEvent=l,t.recordExtra=c,t.markTTI=u}),define("file-viewer/core/middlewares/analytics",["require","exports","tslib","file-viewer/core/logging/actions","file-viewer/core/logging/session"],function(e,t,r,i,a){"use strict";function n(e){return Object.keys(e).reduce(function(t,r){var i=e[r];return"string"==typeof i||"number"==typeof i?t[r]=i:"boolean"==typeof i?t[r]=+i:"object"==typeof i&&i&&(t[r]=JSON.stringify(n(i))),t},{})}function o(e){return r.__assign({},e,{extra:n(e.extra)})}function s(e){return function(t){var s=t.getState;return function(t){return function(l){var u=null;if("@@previews/log"===l.type){var d=l.payload,p=d.event,f=d.fileViewerId,v=d.extra;return u=a.recordEvent(s().loggingSession[f],p,v),e.log(p,o(u)),u=a.updateSessionLastEvent(u,p),t(i.updateSession(u))}if("@@previews/logTTI"===l.type)return u=a.markTTI(s().loggingSession[l.payload]),e.logTTI(),t(i.updateSession(u));if(l.type in c){var _=l.payload,f=_.fileViewerId,m=_.sourceContext,g=s().loggingSession[f];e.log("user_action",o(r.__assign({},g,{extra:n({context:m,action:c[l.type]})})))}return t(l)}}}}Object.defineProperty(t,"__esModule",{value:!0});var l,c=(l={},l["@@previews/zoomIn"]="zoom_in",l["@@previews/zoomOut"]="zoom_out",l["@@previews/fileViewerUi/closeDocSidebar"]="close_doc_sidebar",l["@@previews/fileViewerUi/openDocSidebar"]="open_doc_sidebar",l["@@previews/zoomOriginalOrFit"]="zoom_original_or_fit",l["@@previews/modes/changeMode"]="mode_change",l["@@previews/updateDocCurrentPageIndex"]="page_jump",l["@@previews/pageDown"]="page_down",l["@@previews/pageUp"]="page_up",l["@@previews/share"]="share",l["@@previews/openWith"]="open_with",l["@@previews/openWebPreview"]="open_web_preview",l);t.analyticsMiddleware=s}),define("file-viewer/core/middlewares/local_cache_data",["require","exports","tslib","modules/clean/api_v2/redux/previews","file-viewer/core/logging/session","file-viewer/core/logging/actions"],function(e,t,r,i,a,n){"use strict";function o(e){var t=this;return function(o){var s=o.getState,l=o.dispatch;return function(o){return function(c){return r.__awaiter(t,void 0,void 0,function(){var t,u,d,p,d;return r.__generator(this,function(r){switch(r.label){case 0:return"@@apiv2_redux/previews/get_preview_data_by_file_ids_batch"!=c.type?[3,2]:e.previewDataCacheClient?[4,e.previewDataCacheClient.getByFileIds(c.payload.arg.file_ids)]:[3,2];case 1:if(t=r.sent(),t.preview_data.length>0)return u={arg:c.payload.arg,result:{preview_data:t.preview_data}},c.meta&&c.meta.fileViewerId&&(d=a.recordExtra(s().loggingSession[c.meta.fileViewerId],{preview_data_cache_hit:"1"}),l(n.updateSession(d))),p=i.getPreviewDataByFileIdsBatchResultAction(u,c.meta),[2,l(p)];c.meta&&c.meta.fileViewerId&&(d=a.recordExtra(s().loggingSession[c.meta.fileViewerId],{preview_data_cache_hit:"0"}),l(n.updateSession(d))),r.label=2;case 2:return[2,o(c)]}})})}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.localCacheMiddleware=o}),define("file-viewer/core/middlewares/native_apps",["require","exports","tslib","file-viewer/core/data/actions"],function(e,t,r,i){"use strict";function a(e){var t=this;return function(a){var n=a.dispatch;return function(a){return function(o){return r.__awaiter(t,void 0,void 0,function(){var t,s,l,c;return r.__generator(this,function(r){switch(r.label){case 0:return t=a(o),"@@previews/fetchNativeApps"!==o.type?[3,2]:(s=n,l=i.fetchNativeAppsResult,c={fileId:o.payload.fileId},[4,e.getAppsForCurrentFile()]);case 1:s.apply(void 0,[l.apply(void 0,[(c.result=r.sent(),c)])]),r.label=2;case 2:return[2,t]}})})}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=a}),define("file-viewer/core/middlewares/navigation",["require","exports"],function(e,t){"use strict";function r(e){return function(t){return function(t){return function(r){return"@@previews/share"===r.type?e.openShareModal():"@@previews/openWith"===r.type?e.openDefaultNativeApp():"@@previews/openWebPreview"===r.type&&e.openWebPreview(),"@@previews/navigation/flipToNextFile"===r.type&&e.flipToNextFile(),"@@previews/navigation/flipToPreviousFile"===r.type&&e.flipToPreviousFile(),t(r)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.middleware=r}),define("file-viewer/core/middlewares/riviera_data",["require","exports","tslib","file-viewer/core/data/actions","file-viewer/core/data/riviera","file-viewer/core/data/riviera/transform","file-viewer/core/invariant","file-viewer/core/urls","file-viewer/core/errors"],function(e,t,r,i,a,n,o,s,l){"use strict";function c(e,t,a){return r.__awaiter(this,void 0,void 0,function(){var s,c,u,d,p;return r.__generator(this,function(r){switch(r.label){case 0:s=a.payload.fileIdOrRevisionId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.fetchDocMetadata(a.payload.textUrlTmpl,!0)];case 2:return c=r.sent(),s=a.payload.fileIdOrRevisionId,o.invariant(!!e.previewData[s],l.FVErrorCode.InvalidFileInfo,"Preview Data for "+s+" should have been available"),u=e.previewData[s].content.image_url_tmpl,d=e.rivieraData[s]&&e.rivieraData[s].metadata,[2,i.fetchDocMetadataResultAction(s,n.processTextResponse(u,c,d))];case 3:return p=r.sent(),[2,i.fetchDocMetadataResultAction(a.payload.fileIdOrRevisionId,void 0,p)];case 4:return[2]}})})}function u(e){var t=this,u=new a.RivieraClientBase(e);return function(e){var a=e.getState,d=e.dispatch;return function(e){return function(p){return r.__awaiter(t,void 0,void 0,function(){var t,f,v,_,m,g,w,h,b,y,F,A,S;return r.__generator(this,function(P){switch(P.label){case 0:switch(f=a(),v=p.type){case"@@previews/fetchDocMetadata":return[3,1];case"@@previews/refreshBlob":return[3,3];case"@@previews/fetchDataForPage":return[3,7]}return[3,10];case 1:return _=e,[4,c(f,u,p)];case 2:return[2,_.apply(void 0,[P.sent()])];case 3:t=p.payload.fileIdOrRevisionId,P.label=4;case 4:return P.trys.push([4,6,,7]),[4,u.refreshDocBlob(p.payload.refreshUrl,p.payload.password)];case 5:return m=P.sent(),g=e(i.refreshBlobSuccessAction({fileIdOrRevisionId:t,preview:m})),o.invariant(!!f.previewData[t],l.FVErrorCode.InvalidFileInfo,"Preview Data for "+t+" should have been available"),w=f.rivieraData[t],w&&Array.isArray(w.pages)&&(h=r.__assign({},w,{pages:w.pages.map(function(e){return r.__assign({},e,{thumbnailUrl:s.imageUrl(m.image_url_tmpl,{page:e.pageIndex,scale_percent:0}),imgUrls:{"1x":s.imageUrl(m.image_url_tmpl,{page:e.pageIndex,scale_percent:0}),"4x":s.imageUrl(m.image_url_tmpl,{page:e.pageIndex,scale_percent:400})}})})}),e(i.fetchDocMetadataResultAction(t,h))),p.payload.password?[2,d(i.fetchDocMetadataAction(t,m.text_url_tmpl))]:[2,g];case 6:return b=P.sent(),[2,e(i.fetchDocMetadataResultAction(p.payload.fileIdOrRevisionId,void 0,b))];case 7:return P.trys.push([7,9,,10]),[4,u.fetchDocMetadata(p.payload.textUrlTmpl,!1,p.payload.pageLowerBound,p.payload.pageUpperBound)];case 8:return y=P.sent(),t=p.payload.fileIdOrRevisionId,o.invariant(!!f.previewData[t],l.FVErrorCode.InvalidFileInfo,"Preview Data for "+t+" should have been available"),F=f.previewData[t].content.image_url_tmpl,A=f.rivieraData[t]&&f.rivieraData[t].metadata,[2,e(i.fetchDataForPageResultAction(p.payload.fileIdOrRevisionId,n.processTextResponse(F,y,A)))];case 9:return S=P.sent(),[3,10];case 10:return[2,e(p)]}})})}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.rivieraDataMiddleware=u}),define("file-viewer/core/middlewares/ui_action_redispatcher",["require","exports","tslib","file-viewer/core/data/actions"],function(e,t,r,i){"use strict";function a(e){return!!e.metadata}Object.defineProperty(t,"__esModule",{value:!0}),t.uiActionRedispatcher=function(e){var t=e.getState;return function(e){return function(n){var o=t(),s=o.fileViewerUi,l=o.previewData,c=o.rivieraData,u=n.payload,d=u.fileIdOrRevisionId,p=u.fileViewerId,f=l[d],v=c[d];if(!(s[p]&&f&&f.content&&v))return e(n);if(!s[p][d])return e(n);switch(n.type){case"@@previews/zoomIn":return e(i.zoomIn(r.__assign({},n.payload,{previewType:"ssr_doc"===f.content[".tag"]?"ssr_doc":"image"})));case"@@previews/zoomOut":return e(i.zoomOut(r.__assign({},n.payload,{previewType:"ssr_doc"===f.content[".tag"]?"ssr_doc":"image"})));case"@@previews/updateDocCurrentPageIndex":if("ssr_doc"===f.content[".tag"]&&a(v)&&v.metadata)return e(i.updateDocCurrentPageIndex(r.__assign({},n.payload,{pageCount:v.metadata.page_count})));case"@@previews/pageDown":if("ssr_doc"===f.content[".tag"]&&a(v)&&v.metadata)return e(i.pageDown(r.__assign({},n.payload,{pageCount:v.metadata.page_count})))}return e(n)}}}}),define("file-viewer/core/ui/types",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.win="win",e.osx="osx",e.web="web"})(t.Theme||(t.Theme={}))}),define("file-viewer/core/urls",["require","exports"],function(e,t){"use strict";function r(e,t){Object.keys(t).forEach(function(r){e.searchParams.set(r,t[r])})}function i(e,t){var r=new URL(e);return r.searchParams.set("page",t[a.page].toString()),r.searchParams.set("scale_percent",t[a.scale_percent].toString()),r.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.updateQueryParam=r;var a;(function(e){e.scale_percent="scale_percent",e.page="page"})(a||(a={})),t.imageUrl=i}),define("file-viewer/core/utils",["require","exports","file-viewer/core/extension_constants"],function(e,t,r){"use strict";function i(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}function a(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!i(e[r[n]],t[r[n]]))return!1;return!0}function n(e,t,r){var i=e/t;return isNaN(r)||isNaN(i)||!isFinite(i)||!isFinite(r)?[0,0]:i>r?[t*r,t]:[e,e/r]}function o(e){var t=e.toLowerCase().match(/\.\w+$/);return t?t[0]:""}function s(e){if(!e)return null;var t=e.split("/");return t.length<2?null:t[t.length-2]}function l(e){if(!e||!e.content)return"other";switch(e.content[".tag"]){case"archive":return"archive";case"audio":return"audio";case"cloud_doc":return"cloud_doc";case"excel":return"excel";case"html":return"html";case"image":return"image";case"linkfile":return"linkfile";case"raw_html":return"raw_html";case"restricted":return"restricted";case"ssr_doc":return"ssr_doc";case"video":return"video";default:return"other"}}function c(e,t,i){var a=o(e);return".pdf"===a?i.pdf_size_limit:r.PRESENTATION_EXTS.includes(a)?i.ppt_size_limit:r.DOC_EXTS.includes(a)?i.word_doc_size_limit:"archive"===t?i.archive_size_limit:"html"===t||"text"===t?i.text_size_limit:"linkfile"===t?i.linkfile_size_limit:0}function u(e,t,r,i){if(!isFinite(t))return!0;var a=c(e,r,i);return!a||t<=a}function d(e,t){return e[t]||t}Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEqual=a,t.calculateFitBox=n;t.getFileExtension=o,t.getParentFolderFromPath=s,t.resolvePreviewType=l,t.getFileSizeLimit=c,t.fileSizeSupported=u,t.resolveAsset=d}),define("file-viewer/core/uuid",["require","exports"],function(e,t){"use strict";function r(e){return e.map(function(e){return n[e]}).join("")}function i(){var e=new Uint8Array(16);return"undefined"!=typeof window&&(window.crypto||window.msCrypto)&&(window.crypto||window.msCrypto).getRandomValues(e),e}function a(){var e=i();e[6]=15&e[6]|64,e[8]=63&e[8]|128;var t=Array.prototype.slice.call(e);return[t.slice(0,4),t.slice(4,6),t.slice(6,8),t.slice(8,10),t.slice(10,16)].map(r).join("-")}Object.defineProperty(t,"__esModule",{value:!0});var n=(function(){var e,t,r=[];for(e=0,t=e;e<=255;e++,t=e)r.push((t+256).toString(16).substr(1));return r})();t.v4=a}),define("intl-messageformat",[],function(){return function(){"use strict";function e(e){var t,r,i,a,n=Array.prototype.slice.call(arguments,1);for(t=0,r=n.length;t<r;t+=1)if(i=n[t])for(a in i)s.call(i,a)&&(e[a]=i[a]);return e}function t(e,t,r){this.locales=e,this.formats=t,this.pluralFn=r}function r(e){this.id=e}function i(e,t,r,i,a){this.id=e,this.useOrdinal=t,this.offset=r,this.options=i,this.pluralFn=a}function a(e,t,r,i){this.id=e,this.offset=t,this.numberFormat=r,this.string=i}function n(e,t){this.id=e,this.options=t}function o(e,t,r){var i="string"==typeof e?o.__parse(e):e;if(!i||"messageFormatPattern"!==i.type)throw new TypeError("A message must be provided as a String or AST.");r=this._mergeFormats(o.formats,r),c(this,"_locale",{value:this._resolveLocale(t)});var a=this._findPluralRuleFunction(this._locale),n=this._compilePattern(i,t,r,a),s=this;this.format=function(t){try{return s._format(n,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}var s=Object.prototype.hasOwnProperty,l=(function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}})(),c=(!l&&Object.prototype.__defineGetter__,l?Object.defineProperty:function(e,t,r){"get"in r&&e.__defineGetter__?e.__defineGetter__(t,r.get):(!s.call(e,t)||"value"in r)&&(e[t]=r.value)}),u=Object.create||function(e,t){function r(){}var i,a;r.prototype=e,i=new r;for(a in t)s.call(t,a)&&c(i,a,t[a]);return i},d=t;t.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},t.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,r,i,a=e.elements,n=[];for(t=0,r=a.length;t<r;t+=1)switch(i=a[t],i.type){case"messageTextElement":n.push(this.compileMessageText(i));break;case"argumentElement":n.push(this.compileArgument(i));break;default:throw new Error("Message element does not have a valid type")}return n},t.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new a(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},t.prototype.compileArgument=function(e){var t=e.format;if(!t)return new r(e.id);var a,o=this.formats,s=this.locales,l=this.pluralFn;switch(t.type){case"numberFormat":return a=o.number[t.style],{id:e.id,format:new Intl.NumberFormat(s,a).format};case"dateFormat":return a=o.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(s,a).format};case"timeFormat":return a=o.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(s,a).format};case"pluralFormat":return a=this.compileOptions(e),new i(e.id,t.ordinal,t.offset,a,l);case"selectFormat":return a=this.compileOptions(e),new n(e.id,a);default:throw new Error("Message element does not have a valid format type")}},t.prototype.compileOptions=function(e){var t=e.format,r=t.options,i={};this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===t.type?e:null;var a,n,o;for(a=0,n=r.length;a<n;a+=1)o=r[a],i[o.selector]=this.compileMessage(o.value);return this.currentPlural=this.pluralStack.pop(),i},r.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},i.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},a.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},n.prototype.getOption=function(e){var t=this.options;return t[e]||t.other};var p=(function(){function e(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function t(e,r,i,a){this.message=e,this.expected=r,this.found=i,this.location=a,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function r(e){function r(){return a(Ee,Ce)}function i(t){var r,i,a=Me[t];if(a)return a;for(r=t-1;!Me[r];)r--;for(a=Me[r],a={line:a.line,column:a.column,seenCR:a.seenCR};r<t;)i=e.charAt(r),"\n"===i?(a.seenCR||a.line++,a.column=1,a.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1),r++;return Me[t]=a,a}function a(e,t){var r=i(e),a=i(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:a.line,column:a.column}}}function n(e){Ce<Oe||(Ce>Oe&&(Oe=Ce,Te=[]),Te.push(e))}function o(e,r,i,a){function n(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function o(e,t){function r(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}var i,a,n,o=new Array(e.length);for(n=0;n<e.length;n++)o[n]=e[n].description;return i=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],a=t?'"'+r(t)+'"':"end of input","Expected "+i+" but "+a+" found."}return null!==r&&n(r),new t(null!==e?e:o(r,i),r,i,a)}function s(){return l()}function l(){var e,t,r;for(e=Ce,t=[],r=c();r!==M;)t.push(r),r=c();return t!==M&&(Ee=e,t=k(t)),e=t}function c(){var e;return e=d(),e===M&&(e=f()),e}function u(){var t,r,i,a,n,o;if(t=Ce,r=[],i=Ce,a=S(),a!==M?(n=R(),n!==M?(o=S(),o!==M?(a=[a,n,o],i=a):(Ce=i,i=M)):(Ce=i,i=M)):(Ce=i,i=M),i!==M)for(;i!==M;)r.push(i),i=Ce,a=S(),a!==M?(n=R(),n!==M?(o=S(),o!==M?(a=[a,n,o],i=a):(Ce=i,i=M)):(Ce=i,i=M)):(Ce=i,i=M);else r=M;return r!==M&&(Ee=t,r=V(r)),t=r,t===M&&(t=Ce,r=A(),t=r!==M?e.substring(t,Ce):r),t}function d(){var e,t;return e=Ce,t=u(),t!==M&&(Ee=e,t=U(t)),e=t}function p(){var t,r,i;if(t=I(),t===M){if(t=Ce,r=[],L.test(e.charAt(Ce))?(i=e.charAt(Ce),Ce++):(i=M,0===ke&&n(j)),i!==M)for(;i!==M;)r.push(i),L.test(e.charAt(Ce))?(i=e.charAt(Ce),Ce++):(i=M,0===ke&&n(j));else r=M;t=r!==M?e.substring(t,Ce):r}return t}function f(){var t,r,i,a,o,s,l,c,u;return t=Ce,123===e.charCodeAt(Ce)?(r="{",Ce++):(r=M,0===ke&&n(N)),r!==M?(i=S(),i!==M?(a=p(),a!==M?(o=S(),o!==M?(s=Ce,44===e.charCodeAt(Ce)?(l=",",Ce++):(l=M,0===ke&&n(B)),l!==M?(c=S(),c!==M?(u=v(),u!==M?(l=[l,c,u],s=l):(Ce=s,s=M)):(Ce=s,s=M)):(Ce=s,s=M),s===M&&(s=null),s!==M?(l=S(),l!==M?(125===e.charCodeAt(Ce)?(c="}",Ce++):(c=M,
0===ke&&n(G)),c!==M?(Ee=t,r=z(a,s),t=r):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M),t}function v(){var e;return e=_(),e===M&&(e=m(),e===M&&(e=g(),e===M&&(e=w()))),e}function _(){var t,r,i,a,o,s,l;return t=Ce,"number"===e.substr(Ce,6)?(r="number",Ce+=6):(r=M,0===ke&&n(W)),r===M&&("date"===e.substr(Ce,4)?(r="date",Ce+=4):(r=M,0===ke&&n(q)),r===M&&("time"===e.substr(Ce,4)?(r="time",Ce+=4):(r=M,0===ke&&n(Z)))),r!==M?(i=S(),i!==M?(a=Ce,44===e.charCodeAt(Ce)?(o=",",Ce++):(o=M,0===ke&&n(B)),o!==M?(s=S(),s!==M?(l=R(),l!==M?(o=[o,s,l],a=o):(Ce=a,a=M)):(Ce=a,a=M)):(Ce=a,a=M),a===M&&(a=null),a!==M?(Ee=t,r=X(r,a),t=r):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M),t}function m(){var t,r,i,a,o,s;return t=Ce,"plural"===e.substr(Ce,6)?(r="plural",Ce+=6):(r=M,0===ke&&n(H)),r!==M?(i=S(),i!==M?(44===e.charCodeAt(Ce)?(a=",",Ce++):(a=M,0===ke&&n(B)),a!==M?(o=S(),o!==M?(s=F(),s!==M?(Ee=t,r=K(s),t=r):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M),t}function g(){var t,r,i,a,o,s;return t=Ce,"selectordinal"===e.substr(Ce,13)?(r="selectordinal",Ce+=13):(r=M,0===ke&&n(Y)),r!==M?(i=S(),i!==M?(44===e.charCodeAt(Ce)?(a=",",Ce++):(a=M,0===ke&&n(B)),a!==M?(o=S(),o!==M?(s=F(),s!==M?(Ee=t,r=J(s),t=r):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M),t}function w(){var t,r,i,a,o,s,l;if(t=Ce,"select"===e.substr(Ce,6)?(r="select",Ce+=6):(r=M,0===ke&&n(Q)),r!==M)if(i=S(),i!==M)if(44===e.charCodeAt(Ce)?(a=",",Ce++):(a=M,0===ke&&n(B)),a!==M)if(o=S(),o!==M){if(s=[],l=b(),l!==M)for(;l!==M;)s.push(l),l=b();else s=M;s!==M?(Ee=t,r=$(s),t=r):(Ce=t,t=M)}else Ce=t,t=M;else Ce=t,t=M;else Ce=t,t=M;else Ce=t,t=M;return t}function h(){var t,r,i,a;return t=Ce,r=Ce,61===e.charCodeAt(Ce)?(i="=",Ce++):(i=M,0===ke&&n(ee)),i!==M?(a=I(),a!==M?(i=[i,a],r=i):(Ce=r,r=M)):(Ce=r,r=M),t=r!==M?e.substring(t,Ce):r,t===M&&(t=R()),t}function b(){var t,r,i,a,o,s,c,u,d;return t=Ce,r=S(),r!==M?(i=h(),i!==M?(a=S(),a!==M?(123===e.charCodeAt(Ce)?(o="{",Ce++):(o=M,0===ke&&n(N)),o!==M?(s=S(),s!==M?(c=l(),c!==M?(u=S(),u!==M?(125===e.charCodeAt(Ce)?(d="}",Ce++):(d=M,0===ke&&n(G)),d!==M?(Ee=t,r=te(i,c),t=r):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M),t}function y(){var t,r,i,a;return t=Ce,"offset:"===e.substr(Ce,7)?(r="offset:",Ce+=7):(r=M,0===ke&&n(re)),r!==M?(i=S(),i!==M?(a=I(),a!==M?(Ee=t,r=ie(a),t=r):(Ce=t,t=M)):(Ce=t,t=M)):(Ce=t,t=M),t}function F(){var e,t,r,i,a;if(e=Ce,t=y(),t===M&&(t=null),t!==M)if(r=S(),r!==M){if(i=[],a=b(),a!==M)for(;a!==M;)i.push(a),a=b();else i=M;i!==M?(Ee=e,t=ae(t,i),e=t):(Ce=e,e=M)}else Ce=e,e=M;else Ce=e,e=M;return e}function A(){var t,r;if(ke++,t=[],oe.test(e.charAt(Ce))?(r=e.charAt(Ce),Ce++):(r=M,0===ke&&n(se)),r!==M)for(;r!==M;)t.push(r),oe.test(e.charAt(Ce))?(r=e.charAt(Ce),Ce++):(r=M,0===ke&&n(se));else t=M;return ke--,t===M&&(r=M,0===ke&&n(ne)),t}function S(){var t,r,i;for(ke++,t=Ce,r=[],i=A();i!==M;)r.push(i),i=A();return t=r!==M?e.substring(t,Ce):r,ke--,t===M&&(r=M,0===ke&&n(le)),t}function P(){var t;return ce.test(e.charAt(Ce))?(t=e.charAt(Ce),Ce++):(t=M,0===ke&&n(ue)),t}function x(){var t;return de.test(e.charAt(Ce))?(t=e.charAt(Ce),Ce++):(t=M,0===ke&&n(pe)),t}function I(){var t,r,i,a,o,s;if(t=Ce,48===e.charCodeAt(Ce)?(r="0",Ce++):(r=M,0===ke&&n(fe)),r===M){if(r=Ce,i=Ce,ve.test(e.charAt(Ce))?(a=e.charAt(Ce),Ce++):(a=M,0===ke&&n(_e)),a!==M){for(o=[],s=P();s!==M;)o.push(s),s=P();o!==M?(a=[a,o],i=a):(Ce=i,i=M)}else Ce=i,i=M;r=i!==M?e.substring(r,Ce):i}return r!==M&&(Ee=t,r=me(r)),t=r}function D(){var t,r,i,a,o,s,l,c;return ge.test(e.charAt(Ce))?(t=e.charAt(Ce),Ce++):(t=M,0===ke&&n(we)),t===M&&(t=Ce,"\\\\"===e.substr(Ce,2)?(r="\\\\",Ce+=2):(r=M,0===ke&&n(he)),r!==M&&(Ee=t,r=be()),t=r,t===M&&(t=Ce,"\\#"===e.substr(Ce,2)?(r="\\#",Ce+=2):(r=M,0===ke&&n(ye)),r!==M&&(Ee=t,r=Fe()),t=r,t===M&&(t=Ce,"\\{"===e.substr(Ce,2)?(r="\\{",Ce+=2):(r=M,0===ke&&n(Ae)),r!==M&&(Ee=t,r=Se()),t=r,t===M&&(t=Ce,"\\}"===e.substr(Ce,2)?(r="\\}",Ce+=2):(r=M,0===ke&&n(Pe)),r!==M&&(Ee=t,r=xe()),t=r,t===M&&(t=Ce,"\\u"===e.substr(Ce,2)?(r="\\u",Ce+=2):(r=M,0===ke&&n(Ie)),r!==M?(i=Ce,a=Ce,o=x(),o!==M?(s=x(),s!==M?(l=x(),l!==M?(c=x(),c!==M?(o=[o,s,l,c],a=o):(Ce=a,a=M)):(Ce=a,a=M)):(Ce=a,a=M)):(Ce=a,a=M),i=a!==M?e.substring(i,Ce):a,i!==M?(Ee=t,r=De(i),t=r):(Ce=t,t=M)):(Ce=t,t=M)))))),t}function R(){var e,t,r;if(e=Ce,t=[],r=D(),r!==M)for(;r!==M;)t.push(r),r=D();else t=M;return t!==M&&(Ee=e,t=Re(t)),e=t}var C,E=arguments.length>1?arguments[1]:{},M={},O={start:s},T=s,k=function(e){return{type:"messageFormatPattern",elements:e,location:r()}},V=function(e){var t,r,i,a,n,o="";for(t=0,i=e.length;t<i;t+=1)for(a=e[t],r=0,n=a.length;r<n;r+=1)o+=a[r];return o},U=function(e){return{type:"messageTextElement",value:e,location:r()}},L=/^[^ \t\n\r,.+={}#]/,j={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},N={type:"literal",value:"{",description:'"{"'},B={type:"literal",value:",",description:'","'},G={type:"literal",value:"}",description:'"}"'},z=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:r()}},W={type:"literal",value:"number",description:'"number"'},q={type:"literal",value:"date",description:'"date"'},Z={type:"literal",value:"time",description:'"time"'},X=function(e,t){return{type:e+"Format",style:t&&t[2],location:r()}},H={type:"literal",value:"plural",description:'"plural"'},K=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:r()}},Y={type:"literal",value:"selectordinal",description:'"selectordinal"'},J=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:r()}},Q={type:"literal",value:"select",description:'"select"'},$=function(e){return{type:"selectFormat",options:e,location:r()}},ee={type:"literal",value:"=",description:'"="'},te=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:r()}},re={type:"literal",value:"offset:",description:'"offset:"'},ie=function(e){return e},ae=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:r()}},ne={type:"other",description:"whitespace"},oe=/^[ \t\n\r]/,se={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},le={type:"other",description:"optionalWhitespace"},ce=/^[0-9]/,ue={type:"class",value:"[0-9]",description:"[0-9]"},de=/^[0-9a-f]/i,pe={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},fe={type:"literal",value:"0",description:'"0"'},ve=/^[1-9]/,_e={type:"class",value:"[1-9]",description:"[1-9]"},me=function(e){return parseInt(e,10)},ge=/^[^{}\\\0-\x1F \t\n\r]/,we={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},he={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},be=function(){return"\\"},ye={type:"literal",value:"\\#",description:'"\\\\#"'},Fe=function(){return"\\#"},Ae={type:"literal",value:"\\{",description:'"\\\\{"'},Se=function(){return"{"},Pe={type:"literal",value:"\\}",description:'"\\\\}"'},xe=function(){return"}"},Ie={type:"literal",value:"\\u",description:'"\\\\u"'},De=function(e){return String.fromCharCode(parseInt(e,16))},Re=function(e){return e.join("")},Ce=0,Ee=0,Me=[{line:1,column:1,seenCR:!1}],Oe=0,Te=[],ke=0;if("startRule"in E){if(!(E.startRule in O))throw new Error("Can't start parsing from rule \""+E.startRule+'".');T=O[E.startRule]}if(C=T(),C!==M&&Ce===e.length)return C;throw C!==M&&Ce<e.length&&n({type:"end",description:"end of input"}),o(null,Te,Oe<e.length?e.charAt(Oe):null,Oe<e.length?a(Oe,Oe+1):a(Oe,Oe))}return e(t,Error),{SyntaxError:t,parse:r}})(),f=o;c(o,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),c(o,"__localeData__",{value:u(null)}),c(o,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");o.__localeData__[e.locale.toLowerCase()]=e}}),c(o,"__parse",{value:p.parse}),c(o,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),o.prototype.resolvedOptions=function(){return{locale:this._locale}},o.prototype._compilePattern=function(e,t,r,i){return new d(t,r,i).compile(e)},o.prototype._findPluralRuleFunction=function(e){for(var t=o.__localeData__,r=t[e.toLowerCase()];r;){if(r.pluralRuleFunction)return r.pluralRuleFunction;r=r.parentLocale&&t[r.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},o.prototype._format=function(e,t){var r,i,a,n,o,l,c="";for(r=0,i=e.length;r<i;r+=1)if(a=e[r],"string"!=typeof a){if(n=a.id,!t||!s.call(t,n))throw l=new Error("A value must be provided for: "+n),l.variableId=n,l;o=t[n],c+=a.options?this._format(a.getOption(o),t):a.format(o)}else c+=a;return c},o.prototype._mergeFormats=function(t,r){var i,a,n={};for(i in t)s.call(t,i)&&(n[i]=a=u(t[i]),r&&s.call(r,i)&&e(a,r[i]));return n},o.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(o.defaultLocale);var t,r,i,a,n=o.__localeData__;for(t=0,r=e.length;t<r;t+=1)for(i=e[t].toLowerCase().split("-");i.length;){if(a=n[i.join("-")])return a.locale;i.pop()}var s=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+s)};var v={locale:"en",pluralRuleFunction:function(e,t){var r=String(e).split("."),i=!r[1],a=Number(r[0])==e,n=a&&r[0].slice(-1),o=a&&r[0].slice(-2);return t?1==n&&11!=o?"one":2==n&&12!=o?"two":3==n&&13!=o?"few":"other":1==e&&i?"one":"other"}};f.__addLocaleData(v),f.defaultLocale="en";var _=f;this.IntlMessageFormat=_}.call(this),this.IntlMessageFormat}.bind(Object.create(null))),define("file-viewer/modes",["require","exports","file-viewer/modes/sidebar/sidebar","file-viewer/modes/sidebar/pane","file-viewer/modes/sidebar/control","file-viewer/modes/sidebar/utils"],function(e,t,r,i,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=r.Sidebar,t.Pane=i.Pane,t.CommentControl=a.CommentControl,t.DocumentationControl=a.DocumentationControl,t.WatermarkControl=a.WatermarkControl;t.SIDEBAR_OPEN_WIDTH=parseInt("368px",10),t.SIDEBAR_CLOSED_WIDTH=parseInt("48px",10),t.createSidebarDispatchHandler=n.createSidebarDispatchHandler,t.isSidebarOpen=n.isSidebarOpen}),define("file-viewer/modes/sidebar/control",["require","exports","tslib","classnames","react","spectrum/tooltip","file-viewer/core"],function(e,t,r,i,a,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importDefault(i),a=r.__importStar(a);var s={totalWidthOpen:"368px",totalWidthClosed:"48px",control:"BXSQ8s4gfq",isSelected:"_3l-Swh4sdi",controlIcon:"_33nnkxMPOU"};t.Control=function(e){var t,r=e.labelText,l=e.id,c=e.dispatch,u=e.fileViewerUiData,d=e.fileViewerId;return a.createElement("button",{"aria-label":r,"data-control-id":l,className:i.default(s.control,(t={},t[s.isSelected]=u.sidebar.visibility===o.SidebarVisibility.Open&&u.sidebar.selectedControlId===l,t)),onClick:function(){return c(o.sidebarControlClickAction({fileViewerId:d,controlId:l}))}},a.createElement(n.Tooltip,{positionOffset:8,positioning:"left",tooltipContent:r},a.createElement("div",{className:s.controlIcon})))},t.DocumentationControl=function(e){var r=e.intl;return a.createElement(t.Control,Object.assign({},e,{id:o.SidebarControlId.Documentation,labelText:r.formatMessage({id:"17znK",defaultMessage:"About"})}))},t.CommentControl=function(e){var r=e.intl;return a.createElement(t.Control,Object.assign({},e,{id:o.SidebarControlId.Comments,labelText:r.formatMessage({id:"3rjoD",defaultMessage:"Comments"})}))},t.WatermarkControl=function(e){var r=e.intl;return a.createElement(t.Control,Object.assign({},e,{id:o.SidebarControlId.Watermarking,labelText:r.formatMessage({id:"1l5w1",defaultMessage:"Watermark"})}))},t.defaultRenderSidebarControlsFn=function(e){return[a.createElement(t.DocumentationControl,Object.assign({key:"documentation-control"},e)),a.createElement(t.CommentControl,Object.assign({key:"comment-control"},e)),a.createElement(t.WatermarkControl,Object.assign({key:"watermark-control"},e))]}}),define("file-viewer/modes/sidebar/control_list",["require","exports","tslib","react","file-viewer/core"],function(e,t,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importStar(i);var n={totalWidthOpen:"368px",totalWidthClosed:"48px",controlList:"_5hRhvsTRDu",wrapper:"_2u9TnyYmDT",passWrapper:"_1l56KnLCts _2u9TnyYmDT",ctaWrapper:"_1JOG8AxeAH _2u9TnyYmDT",controlsWrapper:"_3DfCFtkX0k _2u9TnyYmDT",overflowMenuWrapper:"_28j2UUwxL0 _2u9TnyYmDT",controlListSeparator:"_1hg15rVhTv"};t.ControlList=function(e){var t=e.renderSidebarCallToActionsFn,o=e.renderSidebarControlsFn,s=e.renderSidebarOverflowMenuFn,l=e.renderSidebarPASSFn,c=r.__rest(e,["renderSidebarCallToActionsFn","renderSidebarControlsFn","renderSidebarOverflowMenuFn","renderSidebarPASSFn"]),u=c.fileViewerUiData.sidebar.visibility===a.SidebarVisibility.Closed,d=u&&t,p=u&&l;return i.createElement("div",{className:n.controlList},p&&i.createElement("div",{className:n.passWrapper},l(c)),d&&i.createElement("div",{className:n.ctaWrapper},t(c)),(d||p)&&i.createElement("hr",{className:n.controlListSeparator}),i.createElement("div",{className:n.controlsWrapper},o(c)),s&&i.createElement("div",{className:n.overflowMenuWrapper},s(c)))}}),define("file-viewer/modes/sidebar/header",["require","exports","tslib","react","file-viewer/core"],function(e,t,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importStar(i);var n={totalWidthOpen:"368px",totalWidthClosed:"48px",header:"_2PGvvyezID",passAndActionWrapper:"JNzCLEJ9KG",passWrapper:"_38xOCX25Qt",ctaWrapper:"_2YfLaf8L7b",notificationWrapper:"_15d1-PI7jT"};t.Header=function(e){var t=e.renderSidebarCallToActionsFn,o=e.renderSidebarNotificationsFn,s=e.renderSidebarPASSFn,l=r.__rest(e,["renderSidebarCallToActionsFn","renderSidebarNotificationsFn","renderSidebarPASSFn"]);return(t||s)&&l.fileViewerUiData.sidebar.visibility===a.SidebarVisibility.Open?i.createElement("div",{className:n.header},i.createElement("div",{className:n.passAndActionWrapper},i.createElement("div",{className:n.passWrapper},s&&s(l)),i.createElement("div",{className:n.ctaWrapper},t&&t(l))),i.createElement("div",{className:n.notificationWrapper},o&&o(l))):null}}),define("file-viewer/modes/sidebar/pane",["require","exports","tslib","react","file-viewer/modes/sidebar/utils","classnames"],function(e,t,r,i,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importStar(i),n=r.__importDefault(n);var o={pane:"mr8CWsBI-a"};t.Pane=function(e){var t=e.fileViewerUiData.sidebar,r=a.isSidebarOpen(t)&&a.isSidebarPaneIdAtTopOfStack(e.paneId,t);return i.createElement("div",{className:n.default(o.pane,e.className),hidden:!r},e.children)}}),define("file-viewer/modes/sidebar/pane_stack",["require","exports","tslib","react"],function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importStar(i);var a={totalWidthOpen:"368px",totalWidthClosed:"48px",paneStack:"_1I6XjY7iD9"};t.PaneStack=function(e){var t=e.registerSidebarPanesFn,n=r.__rest(e,["registerSidebarPanesFn"]),o=t(n),s=n.fileViewerUiData.sidebar.paneStack.map(function(e){var t=o[e];return t||console.error('Unable to find pane with paneId: "'+e+'"'),t}).filter(Boolean);return i.createElement("div",{className:a.paneStack},s)}}),define("file-viewer/modes/sidebar/sidebar",["require","exports","tslib","classnames","react","file-viewer/core","file-viewer/modes/sidebar/control_list","file-viewer/modes/sidebar/header","file-viewer/modes/sidebar/pane_stack"],function(e,t,r,i,a,n,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importDefault(i),a=r.__importStar(a);var c={totalWidthOpen:"368px",totalWidthClosed:"48px",sidebar:"_1ah_BhOiDc",sidebarContent:"_2HMOm5Hi5o",isOpen:"_35m4GZHt8p",widthClosed:"48px",widthOpen:"368px"};t.Sidebar=function(e){var t,u=e.registerSidebarPanesFn,d=e.renderSidebarCallToActionsFn,p=e.renderSidebarControlsFn,f=e.renderSidebarNotificationsFn,v=e.renderSidebarOverflowMenuFn,_=e.renderSidebarPASSFn,m=r.__rest(e,["registerSidebarPanesFn","renderSidebarCallToActionsFn","renderSidebarControlsFn","renderSidebarNotificationsFn","renderSidebarOverflowMenuFn","renderSidebarPASSFn"]);return a.createElement("aside",{className:i.default(c.sidebar,(t={},t[c.isOpen]=n.SidebarVisibility.Open===m.fileViewerUiData.sidebar.visibility,t))},a.createElement(s.Header,Object.assign({},m,{renderSidebarCallToActionsFn:d,renderSidebarPASSFn:_,renderSidebarNotificationsFn:f})),a.createElement("div",{className:c.sidebarContent},a.createElement(l.PaneStack,Object.assign({},m,{registerSidebarPanesFn:u})),a.createElement(o.ControlList,Object.assign({},m,{renderSidebarCallToActionsFn:d,renderSidebarControlsFn:p,renderSidebarOverflowMenuFn:v,renderSidebarPASSFn:_}))))}}),define("file-viewer/modes/sidebar/utils",["require","exports","file-viewer/core"],function(e,t,r){"use strict";function i(e){return"@@previews/sidebarControlClick"===e.type}function a(e){return"@@previews/setSidebarVisibility"===e.type}Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n={},n[r.SidebarControlId.Documentation]=function(e,t){e(r.changeMode({fileViewerId:t,mode:r.FileViewerMode.Documentation,sourceContext:"sidebar"}))},n[r.SidebarControlId.Comments]=function(e,t){e(r.changeMode({fileViewerId:t,mode:r.FileViewerMode.Commenting,sourceContext:"sidebar"}))},n[r.SidebarControlId.Watermarking]=function(e,t){e(r.changeMode({fileViewerId:t,mode:r.FileViewerMode.Watermarking,sourceContext:"sidebar"}))},n);t.createSidebarDispatchHandler=function(e,t){return function(r){if(i(r)){return(0,o[r.payload.controlId])(e,t,r)}return e(a(r)?r:r)}},t.isSidebarOpen=function(e){return e.visibility===r.SidebarVisibility.Open},t.isSidebarPaneIdAtTopOfStack=function(e,t){var r=t.paneStack;return r.length>0&&r[r.length-1]===e}}),define("file-viewer/strings",["require","exports","modules/core/i18n"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strings={"6nnDP":{token:"number",message:function(e){return r.ungettext("Viewed %(number)s year ago","Viewed %(number)s years ago",e,{comment:"label for last time a user has viewed the file"})}},HTBEh:{token:"number",message:function(e){return r.ungettext("Viewed %(number)s month ago","Viewed %(number)s months ago",e,{comment:"label for last time a user has viewed the file"})}},"32pDF":{token:"number",message:function(e){return r.ungettext("Viewed %(number)s week ago","Viewed %(number)s weeks ago",e,{comment:"label for last time a user has viewed the file"})}},Roztq:{token:"number",message:function(e){return r.ungettext("Viewed %(number)s day ago","Viewed %(number)s days ago",e,{comment:"label for last time a user has viewed the file"})}},"1Vt6M":{token:"number",message:function(e){return r.ungettext("Viewed %(number)s hour ago","Viewed %(number)s hours ago",e,{comment:"label for last time a user has viewed the file"})}},"1-Qnz":{token:"number",message:function(e){return r.ungettext("Viewed %(number)s min ago","Viewed %(number)s mins ago",e,{comment:"label for last time a user has viewed the file"})}},"1A8Wt":r._("Viewed just now",{comment:"label for last time a user has viewed the file"}),"3f1s4":r._("Viewing now",{comment:"tooltip showing a user viewing a file"}),"3bhF-":r._("Guest",{comment:"Name of guest user"}),"3O68s":r._("99+",{comment:"label for facepile when there are more than 99 people having seen the file"}),"2u_Bg":{token:"count",message:function(e){return r.ungettext("%(count)s other","%(count)s others",e,{comment:"label for number of other people that viewed this file"})}},"17znK":r._("About",{comment:"Label next to a button that opens a sidebar pane with things like file metadata and activity."}),"3rjoD":r._("Comments",{comment:"Label next to a button that opens a sidebar pane for leaving comments on a file."}),"1l5w1":r._("Watermark",{comment:"Label next to a button that opens a sidebar pane for creating a watermark."}),"380FK":r._("Hide sidebar",{comment:"Tooltip text to hide preview sidebar"}),"1-hY4":r._("Show sidebar",{comment:"Tooltip text to show preview sidebar"}),"3r1su":r._("Fullscreen",{comment:"Fullscreen control for preview toolbar"}),"1crUg":r._("Page down",{comment:"Page down control for preview toolbar"}),"30U9L":r._("Page up",{comment:"Page up control for preview toolbar"}),yOZ5I:r._("Zoom in",{comment:"Zoom in control for preview toolbar"}),"2dTGQ":r._("Zoom out",{comment:"Zoom out control for preview toolbar"}),"3A0DU":r._("Previous",{comment:"Flip to the previous file in a series of files when previewing files on the web"}),"1XG6i":r._("Next",{comment:"Flip to the next file in a series of files when previewing files on the web"}),"1LWb5":r._("%(file_number)s of %(file_count)s",{comment:"Index indicator for preview toolbar file flipping controls"}),"3Dloj":r._("Page...",{comment:"Placeholder text for preview toolbar page indicator input"}),Z4LHJ:r._("Click to jump to a page",{comment:"Tooltip text for the page indicator"}),"1BXqX":r._("Zoom to fit",{comment:"Toolbar tooltip text for zooming an image to fit the viewport"}),"2iKGa":r._("View actual size",{comment:"Toolbar tooltip text for zooming an image to its real size"}),"2yLzB":r._("Page %(index)s",{comment:"label for each document page"}),"2w1Rq":r._("Document Sidebar",{comment:"a11y label for doc sidebar"}),uh_2T:r._("External Link",{comment:"Label for external anchor link"}),PLDnD:r._("Internal Link",{comment:"Label for internal anchor link"}),ACvIY:r._("Reload",{comment:"Reload button label"}),"1_qu7":r._("Close",{comment:"Close button label"}),"2nXNn":r._("Document Password Modal",{comment:"password modal label"}),"35GUv":r._("This file is password protected",{comment:"modal title"}),MBnKP:r._("Submit",{comment:"submit button label"}),Cx9Xf:r._("Cancel",{comment:"Cancel button label"}),"2eyfy":r._("The password you entered is incorrect, please try again.",{comment:"message in modal when user enters wrong passwords"}),"3X32N":r._("Enter the password to open this file.",{comment:"Password input prompt"}),NlVBZ:r._("Password",{comment:"Password input placeholder"}),b7cZq:r._("Open",{comment:"Open with button label"}),"3ptrG":{token:"value",message:function(e){return r.ungettext("%(value)s byte","%(value)s bytes",e,{comment:"file size in bytes"})}},"2StGi":r._("%(value)s KB",{comment:"file size in Kilobytes"}),"1IUi0":r._("%(value)s MB",{comment:"file size in Megabytes"}),"39Cwd":r._("%(value)s GB",{comment:"file size in Gigabytes"}),"3Ukg4":r._("%(value)s TB",{comment:"file size in Terabytes"}),"1H_zL":r._("%(extension)s files can’t currently be previewed.",{comment:"Preview Error section message"}),"1qTZi":r._("View on dropbox.com",{comment:"View preview on dropbox.com link"}),"2f_eX":r._("This %(extension)s file is password-protected",{comment:"Preview Error section title"}),"1qFPZ":r._("This file cannot be previewed",{comment:"Preview Error section title"}),"3IvZ8":r._("Files without extensions cannot be previewed",{comment:"Preview Error section title"}),"1sf_t":r._("This file is too big to preview",{comment:"Preview Error section title"}),"3KmLP":r._("The maximum size for %(extension)s files is %(size)s",{comment:"Preview Error section message"}),"2aX8q":r._("File is uploading",{comment:"Preview Error section title"}),"3c4MZ":r._("Previous Page",{comment:"Button to move to previous page in document"}),mMrPB:r._("Next Page",{comment:"Button to move to next page in document"}),"13oti":{token:"number",message:function(e){return r.ungettext("%(number)s slide","%(number)s slides",e,{comment:"number of slides in a presentation"})}},"3LGzA":{token:"number",message:function(e){return r.ungettext("%(number)s page","%(number)s pages",e,{comment:"number of pages in a document"})}},"1HtDI":r._("In %(parent_folder)s",{comment:"describing the folder that a file belongs to"}),"1D-MZ":r._("Can’t show link. Something’s wrong with this file.",{comment:"Shown instead of description if there is an error"}),iTxna:r._("Open in new tab",{comment:"Label text for open button"}),"2l6UF":{token:"number",message:function(e){return r.ungettext("%(number)s year ago","%(number)s years ago",e,{comment:"label for comment that was left a few years ago"})}},"4jyR0":{token:"number",message:function(e){return r.ungettext("%(number)s month ago","%(number)s months ago",e,{comment:"label for comment that was left a few months ago"})}},"1i3A1":{token:"number",message:function(e){return r.ungettext("%(number)s week ago","%(number)s weeks ago",e,{comment:"label for comment that was left a few weeks ago"})}},Vu6ED:{token:"number",message:function(e){return r.ungettext("%(number)s day ago","%(number)s days ago",e,{comment:"label for comment that was left a few days ago"})}},"2qR7n":{token:"number",message:function(e){return r.ungettext("%(number)s hour ago","%(number)s hours ago",e,{comment:"label for comment that was left a few hours ago"})}},"8pkVG":{token:"number",message:function(e){return r.ungettext("%(number)s min ago","%(number)s mins ago",e,{comment:"label for comment that was left a few mins ago"})}},"2qZ7G":r._("Just now",{comment:"label for comment that was left less than a min ago"}),"8fDlH":r._("@mention someone to share this file",{comment:"mention instruction message"}),"3iN4V":r._("@mention someone",{comment:"mention btn label"}),"1nqpH":r._("Searching contacts…",{comment:"message displayed while search is processed"}),"2lweF":r._("No Users Found",{comment:"No Users Found"}),"nlds-":r._("Invite %(user_name)s",{comment:"invite message"}),"3pIbH":r._("Save",{comment:"edit button label"}),"2Wo9h":r._("This comment was deleted.",{comment:"message after comment is deleted"}),"3x7uu":r._("Edit",{comment:"edit button label"}),"2oCAM":r._("Delete",{comment:"delete button label"}),"3ZEru":r._("Mark as read",{comment:"Mark as read button label"}),"3UAhM":r._("Mark as unread",{comment:"Mark as unread button label"}),"1oD4j":r._("Marked as resolved",{comment:"Marked as resolved button label"}),LeHxj:r._("On older version",{comment:"message displayed when user is viewing an older version of the file"}),"4vU51":r._("Write a comment",{comment:"Write a comment button label"}),"1-FNO":r._("Post",{comment:"Post button label"}),"31CgX":r._("Restore",{comment:"Restore button label"}),"2cH3Z":r._("Resolve",{comment:"Resolve button label"}),"1X0tz":r._("Reply",{comment:"Reply button label"}),"1jeeF":r._("View version history",{comment:"View version history button label"}),"3qNGZ":r._("Page %(page)s",{comment:"page number where comment was left on"}),"1CYeW":r._("%(count)s comments",{comment:"number of comments left"}),"1g0Xl":r._("%(count)s unread",{comment:"number of unread comments"}),"1j6jP":r._("Comment thread",{comment:"Comment thread accessbility label"}),"3zwVy":r._("Unread comment thread",{comment:"Unread comment thread accessbility label"}),"2Zz4g":r._("Download",{comment:"Download button label"}),"3hwIp":r._("Sign in",{comment:"Sign in button label"}),"13yJF":r._("Share",{comment:"Share button label"})}}),define("modules/clean/api_v2/redux/base_action",["require","exports","tslib"],function(e,t,r){"use strict";function i(e){return function(t,r,i){return{type:e,payload:t,meta:r,error:i}}}function a(e){return function(t){var i=this;return function(a){var n=a.dispatch;return function(a){return function(o){return r.__awaiter(i,void 0,void 0,function(){var i,s,l,c,u,d,p;return r.__generator(this,function(r){switch(r.label){case 0:if(s=a(o),l=e[o.type],!l)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),u=(c=l).action,d={arg:o.payload.arg},[4,t.rpc(l.endpoint,o.payload.arg,o.payload.params)];case 2:return i=u.apply(c,[(d.result=r.sent(),d),o.meta]),[3,4];case 3:return p=r.sent(),i=l.action({arg:o.payload.arg,params:o.payload.params},o.meta,p),[3,4];case 4:return[2,n(i)];case 5:return[2,s]}})})}}}}}Object.defineProperty(t,"__esModule",{value:!0}),t._createAction=i,t._createMiddleware=a}),define("modules/clean/api_v2/redux/previews",["require","exports","modules/clean/api_v2/redux/base_action"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;t.Action={GetArchiveFiles:"@@apiv2_redux/previews/get_archive_files",GetArchiveFilesResult:"@@apiv2_redux/previews/get_archive_files_result",GetPreviewDataBatch:"@@apiv2_redux/previews/get_preview_data_batch",GetPreviewDataBatchResult:"@@apiv2_redux/previews/get_preview_data_batch_result",GetPreviewDataByFileIdsBatch:"@@apiv2_redux/previews/get_preview_data_by_file_ids_batch",GetPreviewDataByFileIdsBatchResult:"@@apiv2_redux/previews/get_preview_data_by_file_ids_batch_result",GetPreviewDataBySpecsBatch:"@@apiv2_redux/previews/get_preview_data_by_specs_batch",GetPreviewDataBySpecsBatchResult:"@@apiv2_redux/previews/get_preview_data_by_specs_batch_result",LoggedOutGetArchiveFiles:"@@apiv2_redux/previews/logged_out/get_archive_files",LoggedOutGetArchiveFilesResult:"@@apiv2_redux/previews/logged_out/get_archive_files_result"},t.getArchiveFilesAction=r._createAction(t.Action.GetArchiveFiles),t.getArchiveFilesResultAction=r._createAction(t.Action.GetArchiveFilesResult),t.getPreviewDataBatchAction=r._createAction(t.Action.GetPreviewDataBatch),t.getPreviewDataBatchResultAction=r._createAction(t.Action.GetPreviewDataBatchResult),t.getPreviewDataByFileIdsBatchAction=r._createAction(t.Action.GetPreviewDataByFileIdsBatch),t.getPreviewDataByFileIdsBatchResultAction=r._createAction(t.Action.GetPreviewDataByFileIdsBatchResult),t.getPreviewDataBySpecsBatchAction=r._createAction(t.Action.GetPreviewDataBySpecsBatch),t.getPreviewDataBySpecsBatchResultAction=r._createAction(t.Action.GetPreviewDataBySpecsBatchResult),t.loggedOutGetArchiveFilesAction=r._createAction(t.Action.LoggedOutGetArchiveFiles),t.loggedOutGetArchiveFilesResultAction=r._createAction(t.Action.LoggedOutGetArchiveFilesResult);var a=(i={},i[t.Action.GetArchiveFiles]={endpoint:"get_archive_files",action:t.getArchiveFilesResultAction},i[t.Action.GetPreviewDataBatch]={endpoint:"get_preview_data_batch",action:t.getPreviewDataBatchResultAction},i[t.Action.GetPreviewDataByFileIdsBatch]={endpoint:"get_preview_data_by_file_ids_batch",action:t.getPreviewDataByFileIdsBatchResultAction},i[t.Action.GetPreviewDataBySpecsBatch]={endpoint:"get_preview_data_by_specs_batch",action:t.getPreviewDataBySpecsBatchResultAction},i[t.Action.LoggedOutGetArchiveFiles]={endpoint:"logged_out/get_archive_files",action:t.loggedOutGetArchiveFilesResultAction},i);t.middleware=r._createMiddleware(a)}),define("modules/clean/api_v2/redux/users",["require","exports","modules/clean/api_v2/redux/base_action"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;t.Action={GetAccount:"@@apiv2_redux/users/get_account",GetAccountResult:"@@apiv2_redux/users/get_account_result",GetAccountBatch:"@@apiv2_redux/users/get_account_batch",GetAccountBatchResult:"@@apiv2_redux/users/get_account_batch_result",GetCurrentAccount:"@@apiv2_redux/users/get_current_account",GetCurrentAccountResult:"@@apiv2_redux/users/get_current_account_result",GetFileModifierAccount:"@@apiv2_redux/users/get_file_modifier_account",GetFileModifierAccountResult:"@@apiv2_redux/users/get_file_modifier_account_result",GetMobileClientSettings:"@@apiv2_redux/users/get_mobile_client_settings",GetMobileClientSettingsResult:"@@apiv2_redux/users/get_mobile_client_settings_result",GetPlanInfo:"@@apiv2_redux/users/get_plan_info",GetPlanInfoResult:"@@apiv2_redux/users/get_plan_info_result",GetRootInfo:"@@apiv2_redux/users/get_root_info",
GetRootInfoResult:"@@apiv2_redux/users/get_root_info_result",GetSharingPrefs:"@@apiv2_redux/users/get_sharing_prefs",GetSharingPrefsResult:"@@apiv2_redux/users/get_sharing_prefs_result",GetSpaceUsage:"@@apiv2_redux/users/get_space_usage",GetSpaceUsageResult:"@@apiv2_redux/users/get_space_usage_result",GetUserUiInfo:"@@apiv2_redux/users/get_user_ui_info",GetUserUiInfoResult:"@@apiv2_redux/users/get_user_ui_info_result",NeedsScaleMitigation:"@@apiv2_redux/users/needs_scale_mitigation",NeedsScaleMitigationResult:"@@apiv2_redux/users/needs_scale_mitigation_result",SaveMobileClientSettings:"@@apiv2_redux/users/save_mobile_client_settings",SaveMobileClientSettingsResult:"@@apiv2_redux/users/save_mobile_client_settings_result",SetSharingPrefs:"@@apiv2_redux/users/set_sharing_prefs",SetSharingPrefsResult:"@@apiv2_redux/users/set_sharing_prefs_result"},t.getAccountAction=r._createAction(t.Action.GetAccount),t.getAccountResultAction=r._createAction(t.Action.GetAccountResult),t.getAccountBatchAction=r._createAction(t.Action.GetAccountBatch),t.getAccountBatchResultAction=r._createAction(t.Action.GetAccountBatchResult),t.getCurrentAccountAction=r._createAction(t.Action.GetCurrentAccount),t.getCurrentAccountResultAction=r._createAction(t.Action.GetCurrentAccountResult),t.getFileModifierAccountAction=r._createAction(t.Action.GetFileModifierAccount),t.getFileModifierAccountResultAction=r._createAction(t.Action.GetFileModifierAccountResult),t.getMobileClientSettingsAction=r._createAction(t.Action.GetMobileClientSettings),t.getMobileClientSettingsResultAction=r._createAction(t.Action.GetMobileClientSettingsResult),t.getPlanInfoAction=r._createAction(t.Action.GetPlanInfo),t.getPlanInfoResultAction=r._createAction(t.Action.GetPlanInfoResult),t.getRootInfoAction=r._createAction(t.Action.GetRootInfo),t.getRootInfoResultAction=r._createAction(t.Action.GetRootInfoResult),t.getSharingPrefsAction=r._createAction(t.Action.GetSharingPrefs),t.getSharingPrefsResultAction=r._createAction(t.Action.GetSharingPrefsResult),t.getSpaceUsageAction=r._createAction(t.Action.GetSpaceUsage),t.getSpaceUsageResultAction=r._createAction(t.Action.GetSpaceUsageResult),t.getUserUiInfoAction=r._createAction(t.Action.GetUserUiInfo),t.getUserUiInfoResultAction=r._createAction(t.Action.GetUserUiInfoResult),t.needsScaleMitigationAction=r._createAction(t.Action.NeedsScaleMitigation),t.needsScaleMitigationResultAction=r._createAction(t.Action.NeedsScaleMitigationResult),t.saveMobileClientSettingsAction=r._createAction(t.Action.SaveMobileClientSettings),t.saveMobileClientSettingsResultAction=r._createAction(t.Action.SaveMobileClientSettingsResult),t.setSharingPrefsAction=r._createAction(t.Action.SetSharingPrefs),t.setSharingPrefsResultAction=r._createAction(t.Action.SetSharingPrefsResult);var a=(i={},i[t.Action.GetAccount]={endpoint:"get_account",action:t.getAccountResultAction},i[t.Action.GetAccountBatch]={endpoint:"get_account_batch",action:t.getAccountBatchResultAction},i[t.Action.GetCurrentAccount]={endpoint:"get_current_account",action:t.getCurrentAccountResultAction},i[t.Action.GetFileModifierAccount]={endpoint:"get_file_modifier_account",action:t.getFileModifierAccountResultAction},i[t.Action.GetMobileClientSettings]={endpoint:"get_mobile_client_settings",action:t.getMobileClientSettingsResultAction},i[t.Action.GetPlanInfo]={endpoint:"get_plan_info",action:t.getPlanInfoResultAction},i[t.Action.GetRootInfo]={endpoint:"get_root_info",action:t.getRootInfoResultAction},i[t.Action.GetSharingPrefs]={endpoint:"get_sharing_prefs",action:t.getSharingPrefsResultAction},i[t.Action.GetSpaceUsage]={endpoint:"get_space_usage",action:t.getSpaceUsageResultAction},i[t.Action.GetUserUiInfo]={endpoint:"get_user_ui_info",action:t.getUserUiInfoResultAction},i[t.Action.NeedsScaleMitigation]={endpoint:"needs_scale_mitigation",action:t.needsScaleMitigationResultAction},i[t.Action.SaveMobileClientSettings]={endpoint:"save_mobile_client_settings",action:t.saveMobileClientSettingsResultAction},i[t.Action.SetSharingPrefs]={endpoint:"set_sharing_prefs",action:t.setSharingPrefsResultAction},i);t.middleware=r._createMiddleware(a)}),define("modules/clean/file_store/actions",["require","exports","tslib","modules/clean/file_store/types","modules/clean/file_store/utils","external/lodash"],function(e,t,r,i,a,n){"use strict";function o(e,t){return{type:i.FileNamespaceActions.PutFile,payload:{file:e,fileId:null!=t?t:a.getFileStoreId(e)}}}function s(e){var t=n.keyBy(e,a.getFileStoreId);return{type:i.FileNamespaceActions.PutFileMap,payload:t}}Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importStar(n),t.putFile=o,t.putFiles=s}),define("modules/clean/file_store/reducer",["require","exports","tslib","modules/clean/file_store/types"],function(e,t,r,i){"use strict";function a(e,a){void 0===e&&(e=t.defaultFileState);var n;switch(a.type){case i.FileNamespaceActions.PutFile:return r.__assign({},e,(n={},n[a.payload.fileId]=a.payload.file,n));case i.FileNamespaceActions.PutFileMap:return r.__assign({},e,a.payload)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFileState={},t.fileNamespaceReducer=a}),define("modules/clean/file_store/selectors",["require","exports","modules/clean/file_store/reducer","modules/clean/redux/namespaces","modules/clean/redux/selectors"],function(e,t,r,i,a){"use strict";function n(e){return a.getStateAtNamespace(e,i.FILE_NAMESPACE_KEY)||r.defaultFileState}function o(e,t){return t?n(e)[t]:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.getFile=o}),define("modules/clean/file_store/types",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});(function(e){e.PutFile="PUT_FILE",e.PutFileMap="PUT_FILE_MAP"})(t.FileNamespaceActions||(t.FileNamespaceActions={}))}),define("modules/clean/file_store/utils",["require","exports","tslib","modules/clean/filepath"],function(e,t,r,i){"use strict";function a(e,t){return e.ns_id===t.ns_id&&e.sjid===t.sjid}function n(e){return"fq_path"in e}function o(e){return"subpath"in e}function s(e){return!n(e)&&!o(e)}function l(e){return d(e)}function c(e){return e.is_dir}function u(e){return e.is_dir&&"fq_path"in e}function d(e){return e.ns_id+":"+e.sjid}function p(e){var t="fq_path"in e?i.filename(e.fq_path):e.filename;return i.file_extension(t)}function f(e){return c(e)?u(e)?i.filename(e.fq_path):e.filename:n(e)?i.filename(e.fq_path):e.filename}function v(e){var t=f(e);return i.filename_without_extension(t)}function _(e){return 0===e.bytes}function m(e){return e.is_symlink&&_(e)}Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importStar(i),t.areFilesEqual=a,t.isBrowseFile=n,t.isArchiveFile=o,t.isSharedFile=s,t.getFileStoreId=l,t.isFolder=c,t.isBrowseFolder=u,t.getFileRevisionId=d,t.getExtension=p,t.getFilename=f,t.getFilenameWithoutExtension=v,t.isEmptyFile=_,t.isSymLink=m}),define("modules/clean/open_in_app/types",["require","exports","tslib","modules/constants/file_viewer"],function(e,t,r,i){"use strict";function a(e){return e.platform===o.IPAD||e.platform===o.IPHONE}function n(e){return e.platform===o.ANDROID_MARKET}Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importStar(i);var o=i.OpenInMobileAppPlatform;t.areUrlsIOS=a,t.areUrlsAndroid=n}),define("modules/clean/previews/api",["require","exports","tslib","modules/clean/api_v2/user_client","modules/clean/api_v2/noauth_client","modules/clean/ajax_as_promised","modules/core/uri","file-viewer/core"],function(e,t,r,i,a,n,o,s){"use strict";function l(e,t){if(!t)return Promise.reject(new Error("user not logged in, no support for un-auth'd users yet"));var r={files:e.map(function(e){return{ns_id:e.ns_id,sj_id:e.sjid}})};return t?(new i.UserApiV2Client).ns("previews").rpc("get_preview_data_batch",r,{subjectUserId:t.id}):(new a.NoAuthApiV2Client).ns("previews").rpc("get_preview_data_batch",r,{})}function c(e){return void 0!==e.image}function u(e){var r=t.getParsedDropboxMetadataHeader(e.jqXHR);return 401===e.jqXHR.status&&"1"===e.jqXHR.getResponseHeader("x-dropbox-pdf-password-needed")?new s.RivieraError("Password required",s.RivieraStatus.PasswordProtected):new s.RivieraError("Load Error",r.rivieraStatusCode)}function d(e,t,i){return r.__awaiter(this,void 0,Promise,function(){var a,o,s,l;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.SilentBackgroundRequest({url:e,dataType:"json",type:"POST",data:i?{password:i}:{},xhrFields:{withCredentials:!0},skipInjectCsrf:f(e)})];case 1:return a=r.sent(),[3,3];case 2:throw o=r.sent(),u(o);case 3:return c(a)?[2,{text_url_tmpl:a.text,image_url_tmpl:a.image,refresh_url:a.refresh}]:(s=a.old_blob,l=a.new_blob,[2,{text_url_tmpl:t.text_url_tmpl.replace(s,l),image_url_tmpl:t.image_url_tmpl.replace(s,l),refresh_url:t.refresh_url.replace(s,l)}])}})})}function p(e){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.SilentBackgroundRequest({dataType:"json",type:"GET",url:e,xhrFields:{withCredentials:!0},skipInjectCsrf:f(e)})];case 1:return[2,r.sent()];case 2:throw t=r.sent(),u(t);case 3:return[2]}})})}function f(e){return o.URI.parse(e).getAuthority().toLocaleLowerCase().indexOf("dropbox.com")<0}Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importStar(n),t.MAX_REQUEST_SIZE=50,t.fetchPreviewData=l,t.refreshBlob=d,t.requestDocMetadata=p,t.getParsedDropboxMetadataHeader=function(e){var t={};try{var r=e.getResponseHeader("x-dropbox-metadata");r&&(t=JSON.parse(r))}catch(e){}return t}}),define("modules/clean/previews/data/actions",["require","exports","tslib","external/lodash","modules/clean/previews/data/types","modules/clean/redux/types","modules/clean/previews/data/util","modules/clean/previews/api","modules/clean/file_store/utils","modules/clean/react/previews/pdf_viewer/urls"],function(e,t,r,i,a,n,o,s,l,c){"use strict";function u(e){var t={};return e.forEach(function(e){var r=l.getFileRevisionId(e),i=e.preview;i&&(t[r]={data:i,status:n.ApiClientStatus.Success})}),{type:a.ActionTypes.UpdatePreviewData,payload:t}}function d(e,t){var r=e.revision_id;return{type:a.ActionTypes.OverrideWithComments1Revision,payload:{revisionId:r,preview:t}}}function p(e){var t=e.revision_id;return{type:a.ActionTypes.ClearOverrideWithComments1Revision,payload:{revisionId:t}}}function f(e,t){var r,i=l.getFileRevisionId(e),n=(r={},r[i]={},r);return t.forEach(function(e){e.preview&&(n[i][e.subpath]=e.preview)}),{type:a.ActionTypes.PopulateArchiveFiles,payload:n}}function v(e,t,i){var a=this;return function(n,l){return r.__awaiter(a,void 0,void 0,function(){var a,c,u;return r.__generator(this,function(r){return a=o.filterFilesMissingPreviewData(l(),e,i),0===a.length?[2]:(c=o.chunkFiles(a,s.MAX_REQUEST_SIZE),u=c.map(function(e){return m(n,e,t)}),[2,Promise.all(u)])})})}}function _(e,t){return s.fetchPreviewData([e],t).then(function(e){if(e.results.length>0){var t=e.results[0].preview;if(t&&t.preview_url)return t.preview_url}})}function m(e,i,a){return r.__awaiter(this,void 0,void 0,function(){var n,o,l;return r.__generator(this,function(r){switch(r.label){case 0:n=g(i),e(t.apiRequestInFlightAction(n)),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,s.fetchPreviewData(i,a)];case 2:return o=r.sent(),[2,e(b(o))];case 3:return l=r.sent(),[2,e(y(n))];case 4:return[2]}})})}function g(e){return e.reduce(function(e,t){return e[l.getFileRevisionId(t)]={data:void 0,status:n.ApiClientStatus.Request},e},{})}function w(e,t){return e.reduce(function(e,r){return e[l.getFileRevisionId(r)]={data:r.preview,status:t},e},{})}function h(e){return{type:a.ActionTypes.UpdatePreviewData,payload:e}}function b(e){return{type:a.ActionTypes.UpdatePreviewData,payload:e.results.reduce(function(e,t){return e[o.buildRevisionId(t.file.ns_id,t.file.sj_id)]={data:t.preview||t.err,status:t.err||!t.preview?n.ApiClientStatus.Error:n.ApiClientStatus.Success},e},{})}}function y(e){return{type:a.ActionTypes.UpdatePreviewData,payload:i.mapValues(e,function(e){return{data:void 0,status:n.ApiClientStatus.Error}})}}function F(e,t){return{type:a.ActionTypes.RefreshDocBlobResult,payload:{revisionId:e,preview:t}}}function A(e,t,i,a){var n=this;return function(o){return r.__awaiter(n,void 0,void 0,function(){var n,l;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,s.refreshBlob(t,i,a)];case 1:return n=r.sent(),o(F(e,n)),o(x(e,n.text_url_tmpl)),[3,3];case 2:return l=r.sent(),o(S(e,void 0,l)),[3,3];case 3:return[2]}})})}}function S(e,t,r){return{type:a.ActionTypes.FetchDocMetadataResult,payload:{revisionId:e,metadata:t},error:r}}function P(e,t,r){return{type:a.ActionTypes.FetchDataForPageResult,payload:{revisionId:e,metadata:t},error:r}}function x(e,t){var i=this;return function(a){return r.__awaiter(i,void 0,void 0,function(){var i,n;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,s.requestDocMetadata(c.textUrl(t,!0))];case 1:return i=r.sent(),[3,3];case 2:return n=r.sent(),a(S(e,void 0,n)),[3,3];case 3:return a(S(e,i)),[2]}})})}}function I(e,t,i,a){var n=this;return function(o){return r.__awaiter(n,void 0,void 0,function(){var n,l;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,s.requestDocMetadata(c.textUrl(t,!1,i,a))];case 1:return n=r.sent(),o(P(e,n)),[3,3];case 2:return l=r.sent(),[3,3];case 3:return[2]}})})}}function D(){return{type:a.ActionTypes.ClearVirtualPreviewMetadata}}function R(e,t){var r=e.ns_id,i=e.sjid;return{type:a.ActionTypes.SetVirtualPreviewMetadata,payload:{revisionId:o.buildRevisionId(r,i),preview:t}}}function C(e){var t=e.ns_id,r=e.sjid;return{type:a.ActionTypes.ApplyVirtualPreviewMetadata,payload:o.buildRevisionId(t,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.populateFilesPreviewData=u,t.overridePreviewForComments=d,t.clearCommentsPreviewOverride=p,t.populateArchivePreviews=f,t.fetchPreviewData=v,t.fetchPreviewUrl=_,t.buildPreviewData=w,t.updatePreviewData=h,t.apiRequestInFlightAction=h,t.apiRequestSuccessAction=b,t.apiRequestErrorAction=y,t.refreshBlobAction=A,t.fetchDocMetadataResultAction=S,t.fetchDataForPageResultAction=P,t.fetchDocMetadata=x,t.fetchDataForPage=I,t.clearVirtualPreviewMetadata=D,t.setVirtualPreviewMetadata=R,t.applyVirtualPreviewMetadata=C}),define("modules/clean/previews/data/reducer",["require","exports","tslib","external/lodash","modules/clean/previews/data/types","modules/clean/react/previews/pdf_viewer/urls"],function(e,t,r,i,a,n){"use strict";function o(e){if(!e||!e.pages)return{};var t=e.links,i=e.schema_version,a=e.pages,n=e.fonts,o=void 0===n?[]:n,s=Object.keys(a),l={schema_version:i,links:t,pages:{}};return s.filter(function(e){return!!a[e]}).forEach(function(e){l.pages[e]=a[e].map(function(e){return r.__assign({},e,{font:o[e.f]})})}),l}function s(e,s){void 0===e&&(e=t.initialState);var c,u,d,p,f,v,_,m,g,w;switch(s.type){case a.ActionTypes.PopulateArchiveFiles:return r.__assign({},e,{archivePreviews:i.merge({},e.archivePreviews,s.payload)});case a.ActionTypes.ClearVirtualPreviewMetadata:return r.__assign({},e,{virtualPreviews:{}});case a.ActionTypes.SetVirtualPreviewMetadata:var h=s.payload,b=h.preview,y=h.revisionId;return r.__assign({},e,{virtualPreviews:i.merge({},e.virtualPreviews,(c={},c[y]=b,c))});case a.ActionTypes.ApplyVirtualPreviewMetadata:var F=s.payload;return r.__assign({},e,{filePreviews:i.merge({},e.filePreviews,(u={},u[F]={data:e.virtualPreviews[F]},u)),virtualPreviews:i.omit(e.virtualPreviews,F)});case a.ActionTypes.UpdatePreviewData:return r.__assign({},e,{filePreviews:r.__assign({},e.filePreviews,s.payload)});case a.ActionTypes.OverrideWithComments1Revision:return w=s.payload.revisionId,r.__assign({},e,{comments1Override:r.__assign({},e.comments1Override,(d={},d[w]=s.payload.preview,d))});case a.ActionTypes.ClearOverrideWithComments1Revision:return r.__assign({},e,{comments1Override:r.__assign({},e.comments1Override,(p={},p[s.payload.revisionId]=void 0,p))});case a.ActionTypes.RefreshDocBlobResult:return w=s.payload.revisionId,r.__assign({},e,{filePreviews:r.__assign({},e.filePreviews,(f={},f[w]=r.__assign({},e.filePreviews[w],{data:r.__assign({},e.filePreviews[w].data,{content:r.__assign({},e.filePreviews[w].data.content,s.payload.preview,{placeholder_image_url:s.payload.preview.placeholder_image_url||n.imageUrl(s.payload.preview.image_url_tmpl)})})}),f))});case a.ActionTypes.FetchDocMetadataResult:if(w=s.payload.revisionId,s.error)return r.__assign({},e,{docPreviewMetadata:r.__assign({},e.docPreviewMetadata,(v={},v[w]={metadata:l,text:{},error:s.error},v))});if(s.payload.metadata){var A=s.payload.metadata,S=A.metadata,P=void 0===S?l:S,x=A.text,I={},D=e.docPreviewMetadata[w];return P&&(P=r.__assign({},D&&D.metadata||{},P)),x&&(I=r.__assign({},D&&D.text||{},o(x))),r.__assign({},e,{docPreviewMetadata:r.__assign({},e.docPreviewMetadata,(_={},_[w]={metadata:P,text:I},_))})}return e;case a.ActionTypes.FetchDataForPageResult:w=s.payload.revisionId;var D=e.docPreviewMetadata[w]||{metadata:l,text:{}};if(s.error)return r.__assign({},e,{docPreviewMetadata:r.__assign({},e.docPreviewMetadata,(m={},m[w]=r.__assign({},D,{error:s.error}),m))});if(s.payload.metadata){var R=s.payload.metadata,P=R.metadata,x=R.text,I={};if(P=P?i.merge({},D.metadata,P):D.metadata,x){var C=o(x);I=i.merge({},D.text,C)}else I=D.text;return r.__assign({},e,{docPreviewMetadata:r.__assign({},e.docPreviewMetadata,(g={},g[w]={metadata:P,text:I},g))})}return e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importStar(i),t.initialState={filePreviews:{},docPreviewMetadata:{},comments1Override:{},archivePreviews:{},virtualPreviews:{}};var l={schema_version:0,page_count:0,dimensions:[]};t.reducer=s}),define("modules/clean/previews/data/selectors",["require","exports","modules/clean/redux/types","modules/clean/redux/selectors","modules/clean/file_store/utils","modules/clean/redux/namespaces"],function(e,t,r,i,a,n){"use strict";function o(e){return i.getStateAtNamespace(e,n.PREVIEW_NAMESPACE_KEY)}function s(e,t){var r=o(e);return r&&t?r.comments1Override[t]||r.virtualPreviews[t]||r.filePreviews[t]&&r.filePreviews[t].data:{}}function l(e,t){var r=o(e);return!(!r||!t)&&(!r.comments1Override[t]&&!!r.virtualPreviews[t])}function c(e,t){var i=o(e);if(!i||!t)return f;var n=a.getFileRevisionId(t),s=i.comments1Override[t.revision_id];if(s)return{data:s,status:r.ApiClientStatus.Success};if(i.virtualPreviews[n])return{data:i.virtualPreviews[n],status:r.ApiClientStatus.Success};var l=i.filePreviews[n];return l&&l.status?l:f}function u(e,t){return t.reduce(function(t,r){return t[a.getFileRevisionId(r)]=c(e,r),t},{})}function d(e,t){var o=i.getStateAtNamespace(e,n.PREVIEW_NAMESPACE_KEY);if(!o||!t)return f;var s=o.archivePreviews[a.getFileRevisionId(t)];return s?{data:s[t.subpath],status:r.ApiClientStatus.Success}:f}function p(e,t){var r=i.getStateAtNamespace(e,n.PREVIEW_NAMESPACE_KEY);if(r)return r.docPreviewMetadata[t]}Object.defineProperty(t,"__esModule",{value:!0});var f={data:void 0,status:r.ApiClientStatus.Error};t.getApiDataForRevisionId=s,t.getIsVirtualRevisionId=l,t.getApiDataForFile=c,t.getApiDataForFiles=u,t.getPreviewForArchiveFile=d,t.getDocMetadataByRevisionId=p}),define("modules/clean/previews/data/types",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});(function(e){e.PopulateArchiveFiles="FileViewer/Previews/PopulateArchiveFiles",e.UpdatePreviewData="FileViewer/Previews/UpdatePreviewData",e.OverrideWithComments1Revision="FileViewer/Previews/OverrideWithComments1Revision",e.ClearOverrideWithComments1Revision="FileViewer/Previews/ClearOverrideWithComments1Revision",e.RefreshDocBlob="FileViewer/Previews/RefreshDocBlob",e.RefreshDocBlobResult="FileViewer/Previews/RefreshDocBlobResult",e.FetchDocMetadata="FileViewer/Previews/FetchDocMetadata",e.FetchDocMetadataResult="FileViewer/Previews/FetchDocMetadataResult",e.FetchDataForPageResult="FileViewer/Previews/FetchDataForPageResult",e.ApplyVirtualPreviewMetadata="FileViewer/Previews/ApplyVirtualPreviewMetadata",e.ClearVirtualPreviewMetadata="FileViewer/Previews/ClearVirtualPreviewMetadata",e.SetVirtualPreviewMetadata="FileViewer/Previews/SetVirtualPreviewMetadata"})(t.ActionTypes||(t.ActionTypes={}))}),define("modules/clean/previews/data/util",["require","exports","tslib","external/lodash","modules/clean/previews/data/selectors","modules/clean/file_store/utils","modules/clean/redux/types"],function(e,t,r,i,a,n,o){"use strict";function s(e,t,r){if(void 0===r&&(r=!1),r)return t;var s=a.getApiDataForFiles(e,t);return i.filter(t,function(e){var t=n.getFileRevisionId(e);return!e.is_dir&&(!s[t]||!s[t].data&&s[t].status===o.ApiClientStatus.Error)})}function l(e,t){return e+":"+t}function c(e,t){var r=a.getApiDataForFile(e,t);return!(!r||!r.data||r.status===o.ApiClientStatus.Error)}function u(e,t){return d(e,t)===o.ApiClientStatus.Request}function d(e,t){var r=a.getApiDataForFile(e,t);return r?r.status:void 0}function p(e,t){if(e.length<=0)return[];if(e.length<t)return[e];for(var r=Array(Math.ceil(e.length/t)),i=0,a=0;i<e.length;)r[a++]=e.slice(i,i+=t);return r}Object.defineProperty(t,"__esModule",{value:!0}),i=r.__importStar(i),t.filterFilesMissingPreviewData=s,t.buildRevisionId=l,t.previewDataPresentForFile=c,t.previewDataInFlight=u,t.previewDataStatus=d,t.chunkFiles=p}),define("modules/clean/react/previews/constants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});(function(e){e.LoadError="LOAD_ERROR",e.SupportError="SUPPORT_ERROR",e.ExtensionError="EXTENSION_ERROR",e.NeedFlashError="NEED_FLASH_ERROR",e.FileSizeError="FILE_SIZE_ERROR",e.PasswordProtectedError="PASSWORD_PROTECTED_ERROR",e.PendingUploadError="PENDING_UPLOAD_ERROR",e.EmptyFileError="EMPTY_FILE_ERROR",e.SymLinkError="SYM_LINK_ERROR",e.WatermarkingError="WATERMARKING_ERROR"})(t.ErrorType||(t.ErrorType={}));(function(e){e.Browse="browse",e.Home="home",e.SharedLinkFile="sl_file",e.SharedLinkFolder="sl_folder",e.SharedLinkCollection="sl_collection",e.VersionHistory="version_history",e.FileViewer="file_viewer",e.Desktop="desktop",e.EmbeddedSharedLinkFile="embedded_sl_file",e.ArchiveFile="archive_file"})(t.PreviewSourceContext||(t.PreviewSourceContext={}));(function(e){e.Visit="visit",e.Click="click",e.FileViewerExit="file_viewer_exit"})(t.PreviewSourceAction||(t.PreviewSourceAction={}));(function(e){e.Unknown="unknown",e.NewFile="new_file",e.BeforeUnload="before_unload",e.Unmount="unmount"})(t.PreviewSessionEndReason||(t.PreviewSessionEndReason={}));(function(e){e.EnableRegionCreation="EnableRegionCreation",e.Fullscreen="Fullscreen",e.PageDown="PageDown",e.PageIndicator="PageIndicator",e.PageUp="PageUp",e.Print="Print",e.Sidebar="Sidebar",e.ZoomIn="ZoomIn",e.ZoomOut="ZoomOut",e.Esignature="Esignature",e.FlipControls="FlipControls"})(t.PreviewToolbarButtonType||(t.PreviewToolbarButtonType={}))}),define("modules/clean/react/previews/pdf_viewer/urls",["require","exports","tslib","modules/core/uri","modules/constants/file_viewer"],function(e,t,r,i,a){"use strict";function n(e,t,r,i,a){return void 0===r&&(r=0),void 0===i&&(i=50),void 0===a&&(a=!1),t&&(e=s(e,{metadata:"1"})),void 0!==r&&(e=s(e,{text:"1",page_start:""+r,page_end:""+i})),a&&(e=s(e,{canned_file_name:"spdf/audi.pdf.json"})),e}function o(e,t,r,i){void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=!1);var n={page:t.toString()};a.SVG_PDF_PREVIEW&&r>0?n.format="svg":n.scale_percent=r.toString();var o=s(e,n);return i&&(o=s(o,{canned_file_name:"spdf/audi.pdf."+t+".png"})),o}function s(e,t){return i.URI.parse(e).updateQuery(t).toString()}function l(e){return i.URI.parse(e).getAuthority().toLocaleLowerCase().indexOf("dropbox.com")<0}Object.defineProperty(t,"__esModule",{value:!0}),a=r.__importStar(a),t.textUrl=n,t.imageUrl=o,t.updateQueryParam=s,t.skipCsrfTokenInjection=l});
//# sourceMappingURL=pkg-previews_core.min.js-vfl3n5pqy.map