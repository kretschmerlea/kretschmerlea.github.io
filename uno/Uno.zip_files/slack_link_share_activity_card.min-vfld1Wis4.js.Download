define(["require","exports","tslib","react","modules/core/i18n","modules/core/browser","modules/clean/logging/hive/schemas/web-ecosystem_integration_events","modules/clean/logging/telemetry","modules/clean/react/file_activity_stream/file_activity_stream_card","modules/clean/react/file_activity_stream/thirdparty_activity_clickable_text","modules/clean/react/file_activity_stream/utils","modules/clean/react_format","modules/clean/react/file_sidebar/store/file_activity/types","modules/clean/static_urls","modules/core/uri","modules/clean/react/file_activity_stream/utils"],function(e,t,a,r,n,i,s,l,o,c,_,k,m,g,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importDefault(r),i=a.__importStar(i),l=a.__importStar(l);var v=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onDeepLinkClick=function(e){return function(){var a=d.URI.parse(t.props.activity.slack_deep_link);if(a.getAuthority().endsWith(".slack.com")){(new l.HiveLogger).log(new s.EcosystemIntegrationLoggingTableRow({event_name:s.EventName.cardClicked,integration_name:s.ThirdPartyName.slack,extra:{card_type:e}})),i.unsafe_open_tab(a)}}},t.onConnectLinkClick=function(){(new l.HiveLogger).log(new s.EcosystemIntegrationLoggingTableRow({event_name:s.EventName.cardClicked,integration_name:s.ThirdPartyName.slack,extra:{card_type:m.SlackConversationType.redacted_viewer_not_slack_connected}})),u.thirdPartyActivityShowAppStoreModal(t.props.viewingUser)},t}return a.__extends(t,e),Object.defineProperty(t.prototype,"message",{get:function(){var e=this.props.activity,t=_.isViewingUser(this.props),i={strong:r.default.createElement("strong",null),actor_name:e.user.display_name};switch(e.slack_conversation_type){case m.SlackConversationType.redacted_viewer_not_slack_connected:var s=a.__assign({ClickableText:r.default.createElement(c.ClickableText,{hoverText:n._("Connect with Slack"),clickHandler:this.onConnectLinkClick})},i);return t?k.reactFormat(n._("<strong>You</strong> shared this file in <strong><ClickableText>Slack</ClickableText></strong>"),s):k.reactFormat(n._("<strong>%(actor_name)s</strong> shared this file in <strong><ClickableText>Slack</ClickableText></strong>"),s);case m.SlackConversationType.redacted_viewer_not_in_conversation:return t?k.reactFormat(n._("<strong>You</strong> shared this file in Slack"),i):k.reactFormat(n._("<strong>%(actor_name)s</strong> shared this file in Slack"),i);case m.SlackConversationType.channel:var s=a.__assign({ClickableText:r.default.createElement(c.ClickableText,{hoverText:n._("View in Slack"),clickHandler:this.onDeepLinkClick(m.SlackConversationType.channel)}),slack_conversation_name:e.slack_conversation_name},i);return t?k.reactFormat(n._("<strong>You</strong> shared this file in <strong><ClickableText>%(slack_conversation_name)s</ClickableText></strong>"),s):k.reactFormat(n._("<strong>%(actor_name)s</strong> shared this file in <strong><ClickableText>%(slack_conversation_name)s</ClickableText></strong>"),s);case m.SlackConversationType.dm_multiperson:var s=a.__assign({ClickableText:r.default.createElement(c.ClickableText,{hoverText:n._("View in Slack"),clickHandler:this.onDeepLinkClick(m.SlackConversationType.dm_multiperson)})},i);return t?k.reactFormat(n._("<strong>You</strong> shared this file in <strong><ClickableText>Slack</ClickableText></strong>"),s):k.reactFormat(n._("<strong>%(actor_name)s</strong> shared this file in <strong><ClickableText>Slack</ClickableText></strong>"),s);case m.SlackConversationType.dm_to_someone_other_than_viewer:var s=a.__assign({ClickableText:r.default.createElement(c.ClickableText,{hoverText:n._("View in Slack"),clickHandler:this.onDeepLinkClick(m.SlackConversationType.dm_to_someone_other_than_viewer)}),slack_recipient_name:e.slack_conversation_name},i);return t?k.reactFormat(n._("<strong>You</strong> shared this file with <strong><ClickableText>%(slack_recipient_name)s</ClickableText></strong>"),s):k.reactFormat(n._("<strong>%(actor_name)s</strong> shared this file with <strong><ClickableText>%(slack_recipient_name)s</ClickableText></strong>"),s);case m.SlackConversationType.dm_to_viewer:var s=a.__assign({ClickableText:r.default.createElement(c.ClickableText,{hoverText:n._("View in Slack"),clickHandler:this.onDeepLinkClick(m.SlackConversationType.dm_to_viewer)})},i);return t?k.reactFormat(n._("<strong>You</strong> shared this file with <strong><ClickableText>yourself</ClickableText></strong>"),s):k.reactFormat(n._("<strong>%(actor_name)s</strong> shared this file with <strong><ClickableText>you</ClickableText></strong>"),s);default:return null}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.activity,t={logoUrl:g.static_url("/static/images/thirdparty/slack_icon-vflKvKltK.svg"),localizedName:n._("Slack")};return r.default.createElement(o.FileActivityStreamCard,{message:this.message,timestamp:e.timestamp,user:e.user,className:"file_add_activity_stream_card",thirdPartyData:t})},t})(r.default.Component);t.SlackLinkShareActivityCard=v});
//# sourceMappingURL=slack_link_share_activity_card.min.js-vfl56cs5K.map