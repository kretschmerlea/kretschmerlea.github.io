define(["require","exports","tslib","react","external/react-redux","modules/clean/react/extensions/split_share_button","modules/clean/react/extensions/utils","modules/clean/react/extensions/data/types","modules/clean/react/file_viewer/share_helpers","modules/clean/integrations/zoom_share_dialog/async_modal","modules/clean/sharing/constants","modules/clean/react/file_viewer/logging","modules/clean/react/file_viewer/data/selectors","modules/clean/react/file_viewer/constants","modules/core/i18n"],function(e,t,n,r,o,a,i,s,l,c,u,h,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),l=n.__importStar(l),t.handleShareClick=function(e,t){l.share(e,t,null,u.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE),h.logUserAction(p.UserAction.Share,p.UserActionContext.TitleBarMain)},t.handlePresentInZoom=function(e,t){c.asyncShowModal(t.id,e.file_id,"file-viewer-modal-overlay")};var _=function(e){return{extensionsConfig:d.getExtensionsConfig(e)}},m=(function(o){function l(){var r=null!==o&&o.apply(this,arguments)||this;return r.handleSplitShareButtonShareClick=function(){t.handleShareClick(r.props.file,r.props.user)},r.handleShareButtonClick=function(){return n.__awaiter(r,void 0,void 0,function(){var r,o,a;return n.__generator(this,function(i){switch(i.label){case 0:return t.handleShareClick(this.props.file,this.props.user),[4,new Promise(function(t,n){e(["modules/clean/react/app_actions/telemetry_client"],t,n)}).then(n.__importStar)];case 1:return r=i.sent(),o=r.createTelemetryClient,a=r.getPiiSafeExtension,o({component:"share-btn"}).session({surface:"previews",ext:a(this.props.file.ext)}).event("click_share",{trigger_type:s.TriggerType.PrimaryButton}),[2]}})})},r}return n.__extends(l,o),l.prototype.render=function(){var e=this.props,n=e.file,o=e.user,s=e.extensionsConfig;return i.shouldShowSplitShare(s.featureFlags,s.sharingServiceInfo,n)?r.default.createElement(a.SplitShareButton,{user:o,file:n,onShowShare:this.handleSplitShareButtonShareClick,context:{surface:"previews"},variant:"primary",showEduTooltip:!0,onPresentInZoom:function(){return t.handlePresentInZoom(n,o)}}):r.default.createElement("button",{className:"share-button button-primary control__button",onClick:this.handleShareButtonClick,key:0},f._("Share"))},l})(r.default.PureComponent);t.UnconnectedShareButton=m,t.ShareButton=o.connect(_)(m)});
//# sourceMappingURL=share_button.min.js-vfleJIctZ.map