define(["require","exports","tslib","react","react-dom","classnames","spectrum_comments/comment_avatar","spectrum_comments/comment_editor/draft_utils","spectrum_comments/comment_editor/core/editor_component"],function(e,t,n,s,i,o,r,c,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.indexAsProp,i=e.onClick,r=e.children,c=o("sc-comment-editor-mentions-suggestion",t);return s.createElement("li",{key:n},s.createElement("button",{className:c,onClick:i,onMouseDown:function(e){return e.preventDefault()}},s.createElement("div",null,r)))},t})(s.Component);t.MentionsListItem=a;var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mentionsListItemRefs={},t.onContainerRef=function(e){t.containerRef=e},t.onMentionsListItemRef=function(e){e&&(t.mentionsListItemRefs[e.props.indexAsProp]=e)},t.onUserClick=function(e){t.triggers.suggestion.updateSelectedIndex(e),t.triggers.macro.apply(null)},t.onEmailClick=function(){t.triggers.macro.apply(null)},t}return n.__extends(t,e),t.prototype.renderInactive=function(){return s.createElement("span",null)},t.prototype.renderNoResults=function(){return s.createElement("div",{className:"sc-comment-editor-mentions-list-container"},s.createElement("div",{className:"sc-comment-editor-mentions-list-header"},this.localization.mentionMsg))},t.prototype.renderEmptyResults=function(e){var t=c.parseEmail(e.content.substring(1));return s.createElement("div",{className:"sc-comment-editor-mentions-list-container sc-mentions-empty-results"},s.createElement("div",{className:"sc-comment-editor-mentions-list-header"},this.localization.noUsersFoundMsg),t&&s.createElement("ul",{className:"sc-comment-editor-mentions-list"},s.createElement(a,{className:"sc-comment-editor-mentions-suggestion-selected",indexAsProp:-1,onClick:this.onEmailClick},this.localization.inviteMsg(t[0]))))},t.prototype.componentDidMount=function(){this.lastKnownSelectedIndex=this.status.suggestion.selectedIndex},t.prototype.componentDidUpdate=function(){var e=this.status.suggestion.selectedIndex;if(this.lastKnownSelectedIndex!==e&&e in this.mentionsListItemRefs&&this.containerRef){var t=i.findDOMNode(this.mentionsListItemRefs[e]),n=t.getBoundingClientRect(),s=this.containerRef.getBoundingClientRect();n.top<s.top?t.scrollIntoView({behavior:"smooth",block:"start"}):n.bottom>s.bottom&&t.scrollIntoView({behavior:"smooth",block:"end"}),this.lastKnownSelectedIndex=e}},t.prototype.render=function(){var e=this,t=this.status,n=t.macro,i=t.mentionSuggestions.users,c=n.active;if(!c)return this.renderInactive();if(null===i)return this.renderNoResults();if(!i.length)return this.renderEmptyResults(c);var m=t.suggestion.selectedIndex;return s.createElement("div",{className:"sc-comment-editor-mentions-list-container",contentEditable:!1,ref:this.onContainerRef},s.createElement("div",{className:"sc-comment-editor-mentions-list-header"},this.localization.searchingMsg),s.createElement("ul",{className:"sc-comment-editor-mentions-list"},i.map(function(t,n){var i=o({"sc-comment-editor-mentions-suggestion-selected":m===n});return s.createElement(a,{key:n,indexAsProp:n,className:i,onClick:function(){return e.onUserClick(n)},ref:e.onMentionsListItemRef},s.createElement(r.CommentAvatar,{user:t}),s.createElement("div",{className:"sc-comment-editor-mentions-user"},s.createElement("div",{className:"sc-comment-editor-mentions-name",title:t.name.display},t.name.display),s.createElement("div",{className:"sc-comment-editor-mentions-email",title:t.email},t.email)))})))},t})(m.EditorComponent);t.MentionSuggestionsListComponent=l});
//# sourceMappingURL=mention_suggestions_list_component.min.js-vflHFiT8e.map