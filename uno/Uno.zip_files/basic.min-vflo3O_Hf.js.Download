define(["require","exports","tslib","external/lodash","modules/clean/react/comments2/data/actions","modules/clean/react/comments2/data/types","modules/clean/react/comments2/transforms","modules/clean/react/file_sidebar/store/sidebar/actions","modules/clean/uuid","spectrum_comments/types"],function(e,o,n,t,a,d,r,i,s,c){"use strict";function l(e,o,t,l,h,T,m,A){function f(o){e(a.Actions.logEvent(o))}function v(o){e(a.Actions.activateThreadAndMarkAsRead({thread:o}))}function _(){e(a.Actions.deactivateAllThreads())}function p(e){switch(e){case c.CollapsedInteraction.LEAVE_COMMENT_CLICK:f("sidebar_collapsed_leave_comment_click");break;case c.CollapsedInteraction.AVATAR_CLICK:f("sidebar_collapsed_avatar_click")}o(i.open("toggle_button"))}function C(o){e(a.Actions.markThreadRead({threadId:o,origin:d.MarkThreadReadOrigin.UIButtonClicked}))}function I(o){e(a.Actions.markThreadUnread(o))}function R(o){e(a.Actions.markThreadResolved({threadId:o,resolver:r.dbxUserToIUser(A)}))}function U(o){e(a.Actions.markThreadUnresolved(o))}return A?A.is_email_verified?n.__assign({},u,{onInteractionWhileCollapsed:p,onThreadActivated:v,onAllThreadsDeactivated:_,onMentionsQueryUpdated:l,onThreadMarkedAsRead:C,onThreadMarkedAsUnread:I,onThreadResolved:R,onThreadUnresolved:U,onThreadCreated:function(o,n){e(a.Actions.createThread({annotation:n,author:r.dbxUserToIUser(A),content:o,guid:s.UUID.v4(),source:{".tag":"editor"}})).then(function(){for(var n=0,d=t;n<d.length;n++){var r=d[n];e(a.Actions.markOnboarded(r))}h(o,A)})},onThreadRepliedTo:function(o,n){e(a.Actions.replyToThread({author:r.dbxUserToIUser(A),content:n,threadId:o,guid:s.UUID.v4()})).then(function(){h(n,A)})},onCommentEdited:function(o,n,t){e(a.Actions.editComment({commentId:o,content:n,threadId:t}))},onCommentDeleted:function(o,n){e(a.Actions.deleteComment({commentId:o,threadId:n}))},onClickOlderInfo:function(o,n){e(a.Actions.logEvent("revision_click",{threadId:n})),e(a.Actions.openVersionHistory())}}):n.__assign({},u,{onInteractionWhileCollapsed:p,onThreadActivated:v,onAllThreadsDeactivated:_,onThreadMarkedAsRead:C,onThreadMarkedAsUnread:I,onThreadResolved:R,onThreadUnresolved:U,onThreadCreated:function(e,o){m(d.ShowModalReason.OnPost)},onThreadRepliedTo:function(e,o){m(d.ShowModalReason.OnPost)},onEditorFocused:function(){m(d.ShowModalReason.EditorFocus)}}):n.__assign({},u,{onInteractionWhileCollapsed:p,onThreadActivated:v,onAllThreadsDeactivated:_,onThreadCreated:function(e,o){T(d.ShowModalReason.OnPost)},onThreadRepliedTo:function(e,o){T(d.ShowModalReason.OnPost)},onEditorFocused:function(){T(d.ShowModalReason.EditorFocus)}})}Object.defineProperty(o,"__esModule",{value:!0}),t=n.__importStar(t),i=n.__importStar(i);var h=t.noop,u={onInteractionWhileCollapsed:h,onThreadActivated:h,onAllThreadsDeactivated:h,onThreadCreated:h,onThreadRepliedTo:h,onThreadMarkedAsRead:h,onThreadMarkedAsUnread:h,onThreadResolved:h,onThreadUnresolved:h,onCommentEdited:h,onCommentDeleted:h,onMentionsQueryUpdated:h,onClickOlderInfo:h,onEditorFocused:h};o.createBasicActionsAdapter=l});
//# sourceMappingURL=basic.min.js-vflydWfdd.map